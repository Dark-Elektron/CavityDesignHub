<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quick Start Guide &mdash; CavityDesignHub (CaDH) 0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Theory" href="theory.html" />
    <link rel="prev" title="Overview" href="introduction.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> CavityDesignHub (CaDH)
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick Start Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements-and-dependencies">Requirements and Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tl-dr">TL;DR</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#download">Download</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-cadh-on-a-local-system">Configuring CaDH  on a Local System</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-a-simulation">Run a Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#updating">Updating</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="theory.html">Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="get_involved.html">Get Involved</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">CavityDesignHub</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CavityDesignHub (CaDH)</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Quick Start Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/quickstart.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="quick-start-guide">
<h1>Quick Start Guide<a class="headerlink" href="#quick-start-guide" title="Permalink to this heading"></a></h1>
<p>This <strong>Quick Start Guide</strong> gives a fast and simple introduction into PoC. All
topics can be found in the <span class="xref std std-ref">Using PoC</span> section with much more
details and examples.</p>
<div class="contents local topic" id="contents-of-this-page">
<p class="topic-title">Contents of this Page</p>
<ul class="simple">
<li><p><a class="reference internal" href="#requirements-and-dependencies" id="id7">Requirements and Dependencies</a></p>
<ul>
<li><p><a class="reference internal" href="#tl-dr" id="id8">TL;DR</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#download" id="id9">Download</a></p></li>
<li><p><a class="reference internal" href="#configuring-cadh-on-a-local-system" id="id10">Configuring CaDH  on a Local System</a></p></li>
<li><p><a class="reference internal" href="#run-a-simulation" id="id11">Run a Simulation</a></p></li>
<li><p><a class="reference internal" href="#updating" id="id12">Updating</a></p></li>
</ul>
</div>
<section id="requirements-and-dependencies">
<span id="quick-requirements"></span><h2><a class="toc-backref" href="#id7">Requirements and Dependencies</a><a class="headerlink" href="#requirements-and-dependencies" title="Permalink to this heading"></a></h2>
<p>The CaDH is a GUI for coordinating different electromagnetic codes. It also comes with some scripts to ease most of the
common tasks. CaDH uses Python 3 as a platform independent scripting environment. All Python scripts are wrapped in
Bash or PowerShell scripts, to hide some platform specifics of Darwin, Linux or Windows.
See <span class="xref std std-ref">USING:Require</span> for further details.</p>
<section id="tl-dr">
<h3><a class="toc-backref" href="#id8">TL;DR</a><a class="headerlink" href="#tl-dr" title="Permalink to this heading"></a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">Dark</span><span class="o">-</span><span class="n">Elektron</span><span class="o">/</span><span class="n">CavityDesignHub</span><span class="o">.</span><span class="n">git</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Navigate to <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;\CavityDesignHub\exe\SLANS_exe\fonts</span></code> and install all fonts in the folder.</p></li>
<li><p>Download ABCI version 12.5 code from <a class="reference external" href="https://abci.kek.jp/abci.htm">here</a>.</p></li>
</ul>
<div class="highlight-PowerShell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd </span><span class="p">&lt;</span><span class="n">root</span><span class="p">&gt;/</span><span class="n">CavityDesignHub</span>
<span class="n">unzip</span> <span class="n">ABCI_MP_12_5</span><span class="p">.</span><span class="n">zip</span>
<span class="n">robocopy</span> <span class="n">ABCI_MP_12_5</span> <span class="p">&lt;</span><span class="n">root</span><span class="p">&gt;\</span><span class="n">CavityDesignHub</span><span class="p">\</span><span class="n">exe</span><span class="p">\</span><span class="n">ABCI_exe</span> <span class="p">/</span><span class="n">COPYALL</span> <span class="p">/</span><span class="n">E</span>
</pre></div>
</div>
<p class="rubric">CavityDesignHub requires:</p>
<ul class="simple">
<li><p>The <strong>Python 3</strong> programming language and runtime.</p></li>
</ul>
<p class="rubric">CaDH optionally requires:</p>
<ul class="simple">
<li><p><strong>Git</strong> command line tools or</p></li>
<li><p><strong>Git User Interface</strong>, if you want to check out the latest ‘master’ or ‘release’ branch.</p></li>
</ul>
<p>All dependencies are contained in requirements.txt</p>
</section>
</section>
<section id="download">
<span id="quick-download"></span><h2><a class="toc-backref" href="#id9">Download</a><a class="headerlink" href="#download" title="Permalink to this heading"></a></h2>
<p>The CaDH-Library can be cloned with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code>. GitHub offers HTTPS and SSH as transfer
protocols. See the <span class="xref std std-ref">Download</span> page for further
details.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Protocol</p></th>
<th class="head"><p>Git Clone Command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>HTTPS</p></td>
<td><p>git clone –recursive <a class="reference external" href="https://github.com/Dark-Elektron/CavityDesignHub.git">https://github.com/Dark-Elektron/CavityDesignHub.git</a></p></td>
</tr>
<tr class="row-odd"><td><p>SSH</p></td>
<td><p>git clone <a class="reference external" href="mailto:git&#37;&#52;&#48;github&#46;com">git<span>&#64;</span>github<span>&#46;</span>com</a>:Dark-Elektron/CavityDesignHub.git</p></td>
</tr>
</tbody>
</table>
<p>To install the requirements, use</p>
<div class="highlight-PowerShell notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">-r</span> <span class="n">requirements</span><span class="p">.</span><span class="n">txt</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On PyCharm, <span class="guilabel">Right Click</span> on <code class="docutils literal notranslate"><span class="pre">test_plugin</span></code> and mark directory as <code class="docutils literal notranslate"><span class="pre">Sources</span> <span class="pre">Root</span></code>.
A change to this will be considered in later releases.</p>
</div>
</section>
<section id="configuring-cadh-on-a-local-system">
<span id="quick-configuration"></span><h2><a class="toc-backref" href="#id10">Configuring CaDH  on a Local System</a><a class="headerlink" href="#configuring-cadh-on-a-local-system" title="Permalink to this heading"></a></h2>
<p>CaDH currently makes use of other software for analysis. These software are not outrightly open source but could be
obtained from the website of the author.</p>
<p><strong>SuperLANS</strong></p>
<p>For eigenmode analysis, SLANS is required. The executable files are included in the cloned repository. There might,
however, be a problem with the codes because they use fonts that are not included in the standard Windows OS. To install
the fonts, navigate to <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;\CavityDesignHub\exe\SLANS_exe\fonts</span></code> and install all fonts in the folder.</p>
<p><strong>ABCI</strong></p>
<p>For wakefield analysis, the ABCI code is required.</p>
<ul>
<li><div class="line-block">
<div class="line">Download ABCI code from <cite>here &lt;https://abci.kek.jp/abci.htm&gt;</cite>. ABCI version 12.5 is recommended.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Copy files from the downloaded zip file to <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;\CavityDesignHub\exe\ABCI_exe</span></code>. This can be done directly on</div>
</div>
</li>
</ul>
<p>Windows by copying the files to the specified folder or from the command line using</p>
<p><strong>On Windows</strong></p>
<p>First extract the files from <code class="docutils literal notranslate"><span class="pre">ABCI_MP_12_5.zip</span></code></p>
<div class="highlight-PowerShell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd </span><span class="p">&lt;</span><span class="n">root</span><span class="p">&gt;/</span><span class="n">CavityDesignHub</span>
<span class="n">unzip</span> <span class="n">ABCI_MP_12_5</span><span class="p">.</span><span class="n">zip</span>
</pre></div>
</div>
<p>Copy all files in extracted folder to <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;\CavityDesignHub\exe\ABCI_exe</span></code></p>
<div class="highlight-PowerShell notranslate"><div class="highlight"><pre><span></span><span class="n">robocopy</span> <span class="n">ABCI_MP_12_5</span> <span class="p">&lt;</span><span class="n">root</span><span class="p">&gt;\</span><span class="n">CavityDesignHub</span><span class="p">\</span><span class="n">exe</span><span class="p">\</span><span class="n">ABCI_exe</span> <span class="p">/</span><span class="n">COPYALL</span> <span class="p">/</span><span class="n">E</span>
</pre></div>
</div>
<p><strong>On Linux</strong></p>
<div class="highlight-PowerShell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd </span><span class="p">&lt;</span><span class="n">folder</span> <span class="n">containing</span> <span class="n">zip</span> <span class="n">file</span><span class="p">&gt;</span>
<span class="n">unzip</span> <span class="n">ABCI_MP_12_5</span><span class="p">.</span><span class="n">zip</span>
</pre></div>
</div>
<p>Copy all files in extracted folder to <code class="docutils literal notranslate"><span class="pre">&lt;root&gt;\CavityDesignHub\exe\ABCI_exe</span></code></p>
</section>
<section id="run-a-simulation">
<span id="quick-runsimulation"></span><h2><a class="toc-backref" href="#id11">Run a Simulation</a><a class="headerlink" href="#run-a-simulation" title="Permalink to this heading"></a></h2>
<p>To run a simulation, we first need to create a project.</p>
<p>To create a new project,</p>
<ul class="simple">
<li><p>Click on <span class="guilabel">New</span> on the menubar.</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/create_new_project1.png"><img alt="accelerator cavity" src="_images/create_new_project1.png" style="height: 60px;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><p>Enter the name of the project and click <span class="guilabel">Enter</span> on your keyboard.</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/create_new_project2.png"><img alt="accelerator cavity" src="_images/create_new_project2.png" style="height: 60px;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><p>Specify the folder to save the project to.</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/create_new_project4.png"><img alt="accelerator cavity" src="_images/create_new_project4.png" style="height: 300px;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><p>Now we are ready for our first analysis.</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/create_new_project5.png"><img alt="accelerator cavity" src="_images/create_new_project5.png" style="height: 60px;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>To open a project,</p>
<ul>
<li><div class="line-block">
<div class="line">Click on <span class="guilabel">Open</span> on the menubar.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Navigate to the folder containing the project files.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Click on <span class="guilabel">Select Folder</span>.</div>
</div>
</li>
</ul>
<p>Once setup is complete, the GUI can be launched by navigating to the folder containing the <code class="docutils literal notranslate"><span class="pre">main.py</span></code> file.
Run the following command from the Windows command line</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">main</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>In a Python IDE, open and <span class="guilabel">run</span> <code class="docutils literal notranslate"><span class="pre">main.py</span></code> directly in the IDE. This opens the GUI as shown in the following figure</p>
<figure class="align-center" id="gui-home-page">
<img alt="accelerator cavity" src="_images/home_page.png" />
</figure>
<p>First,we are going to run an eigenmode analysis.
* | Click on <span class="guilabel">EIGENMODE ANALYSIS</span>. This takes you to another frame which contains different fields and buttons.</p>
<p>There are four major categories on the left pane.
These are <span class="guilabel">Cell Geometric Parameters</span>, <span class="guilabel">Cell Parameters</span>,
<span class="guilabel">Analysis Settings</span> and <span class="guilabel">Uncertainty Quantification</span>.</p>
<p>Let’s say we wanted to run an eigenmode analysis on the mid cell TESLA cavity ref{}
which has geometric dimensions [A, B, a, b, Ri, L, Req] = []
for one eigenmode for single module single mid cell without beam pipes.</p>
<p>For this, we set the boundary conditions of the left and right ends of the cavity
to <code class="docutils literal notranslate"><span class="pre">Magnetic</span> <span class="pre">Wall</span> <span class="pre">En=0</span></code> in order to obtain the TM010:math:<cite>-pi</cite> mode.</p>
<ul>
<li><div class="line-block">
<div class="line">Click on <span class="guilabel">Cell Geometric Parameters</span> to expand the input fields</div>
<div class="line">for the geometric parameters if not already expanded.</div>
</div>
</li>
</ul>
<p>To enter the geometry for simulation, we create a <code class="docutils literal notranslate"><span class="pre">.json</span></code> file which contains the dimensions.
The structure of the <code class="docutils literal notranslate"><span class="pre">.json</span></code> file is shown below. The inner cell <code class="docutils literal notranslate"><span class="pre">IC</span></code> parameters are
<code class="docutils literal notranslate"><span class="pre">[A,</span> <span class="pre">B,</span> <span class="pre">a,</span> <span class="pre">b,</span> <span class="pre">Ri,</span> <span class="pre">L,</span> <span class="pre">Req]</span></code> = <cite>[42, 42, 12, 19, 35, 57.7, 103.3, 0]</cite>. the left
outer cell <code class="docutils literal notranslate"><span class="pre">OC</span></code> parameters are
<code class="docutils literal notranslate"><span class="pre">[A,</span> <span class="pre">B,</span> <span class="pre">a,</span> <span class="pre">b,</span> <span class="pre">Ri,</span> <span class="pre">L,</span> <span class="pre">Req]</span></code> = <cite>[42, 42, 12, 19, 35, 57.7, 103.3, 0]</cite>,
and the right outer cell parameters <code class="docutils literal notranslate"><span class="pre">OC_R</span></code> are
<code class="docutils literal notranslate"><span class="pre">[A,</span> <span class="pre">B,</span> <span class="pre">a,</span> <span class="pre">b,</span> <span class="pre">Ri,</span> <span class="pre">L,</span> <span class="pre">Req,</span> <span class="pre">alpha]</span></code> = <cite>[42, 42, 12, 19, 35, 57.7, 103.3, 0]</cite>. The outer cell and inner cell dimensions
are the same since we are considering just the mid cell of the TESLA cavity. No beam pipes are required so <code class="docutils literal notranslate"><span class="pre">BP</span></code> is
set to <code class="docutils literal notranslate"><span class="pre">none</span></code>. The frequency <code class="docutils literal notranslate"><span class="pre">FREQ</span></code> is set to the desired frequency.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;cavity_name&quot;</span><span class="p">:{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;IC&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">            </span><span class="mi">42</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">42</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">12</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">19</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">35</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mf">57.7</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mf">103.3</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">0</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;OC&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">            </span><span class="mi">42</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">42</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">12</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">19</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">35</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mf">57.7</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mf">103.3</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">0</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;OC_R&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">            </span><span class="mi">42</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">42</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">12</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">19</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">35</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mf">57.7</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mf">103.3</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mi">0</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;BP&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;none&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;FREQ&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1300</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Multiple entries are also possible. An example of a <cite>.json</cite> file that contains
two cavities is</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>{
    &quot;cavity_1&quot;:{
        &quot;IC&quot;: [...],
        &quot;OC&quot;: [...],
        &quot;OC_R&quot;: [...],
        &quot;BP&quot;: &quot;both&quot;,
        &quot;FREQ&quot;: 400.79
    },
    &quot;cavity_2&quot;:{
        &quot;IC&quot;: [...],
        &quot;OC&quot;: [...],
        &quot;OC_R&quot;: [...],
        &quot;BP&quot;: &quot;both&quot;,
        &quot;FREQ&quot;: 1300
    }
}
</pre></div>
</div>
</div>
<ul>
<li><div class="line-block">
<div class="line">Create a file in the project sub directory <code class="docutils literal notranslate"><span class="pre">Cavities</span></code> and copy the above json formatted text to the file. Change</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">cavity_name</span></code> to <code class="docutils literal notranslate"><span class="pre">TESLA</span></code>. Save the file with a <cite>.json</cite> extension.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Click on <span class="guilabel">Cell Geometric Parameters</span> to expand the widget if not already expanded.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Click on <span class="guilabel">…</span> and navigate to the file to load the file.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Once loaded, click on <span class="guilabel">Select Shape</span> dropdown. You should see the <code class="docutils literal notranslate"><span class="pre">&lt;cavity_name&gt;</span></code> in the dropdown.</div>
<div class="line">In our case, <code class="docutils literal notranslate"><span class="pre">&lt;cavity_name&gt;</span></code> is <code class="docutils literal notranslate"><span class="pre">TESLA</span></code>. Select it.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Click on <span class="guilabel">Cell Parameters</span> to expand the widget if not already expanded. Set the fields</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">No.</span> <span class="pre">of</span> <span class="pre">Cells</span></code> and <code class="docutils literal notranslate"><span class="pre">No.</span> <span class="pre">of</span> <span class="pre">Modules</span></code> to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Click on <span class="guilabel">Analysis Settings</span> to show the analysis settings widgets.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Leave <code class="docutils literal notranslate"><span class="pre">Freq.</span> <span class="pre">Shift</span></code> as <code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">No.</span> <span class="pre">of</span> <span class="pre">Modes</span></code> should be left as <cite>1</cite> since</div>
<div class="line">we are only interested in one mode. Leave the polarity as <cite>Monopole</cite> and if the</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Left</span> <span class="pre">BC</span></code> and <code class="docutils literal notranslate"><span class="pre">Right</span> <span class="pre">BC</span></code> should be set to <code class="docutils literal notranslate"><span class="pre">Magnetic</span> <span class="pre">Wall</span> <span class="pre">En=0</span></code>. The number</div>
<div class="line">of <code class="docutils literal notranslate"><span class="pre">Processors</span></code> should be set to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Click on the play button at the bottom right of the panel to run.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Navigate to <code class="docutils literal notranslate"><span class="pre">SimulationData/SLANS/TESLA</span></code> to see results.</div>
</div>
</li>
</ul>
<p>The results are written to <code class="docutils literal notranslate"><span class="pre">SimulationData/SLANS/&lt;cavity_name&gt;</span></code>
If no name was given, the results are saved to <code class="docutils literal notranslate"><span class="pre">SimulationData/SLANS/Cavity0</span></code>. The quantities that
we are interested in could be found in <code class="docutils literal notranslate"><span class="pre">qois.json</span></code>. This file is writen by
Python. The SLANS written files can be viewed using the corresponding executable
file in <a href="#id1"><span class="problematic" id="id2">``</span></a>&lt;root&gt;/CavityDesignHub/exe/SLANS_exe. The table below shows the
files and corresponding executable files to open them.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 22%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Executable</p></th>
<th class="head"><p>File</p></th>
<th class="head"><p>Remark</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="guilabel">genmesh2.exe</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;filename&gt;.geo</span></code></p></td>
<td><p>Used to view the geometry and mesh</p></td>
</tr>
<tr class="row-odd"><td><p><span class="guilabel">slansc.exe</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;filename&gt;.geo</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><span class="guilabel">slansd.exe</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;filename&gt;.geo</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><span class="guilabel">slansm.exe</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;filename&gt;.geo</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><span class="guilabel">slanss.exe</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;filename&gt;.geo</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><span class="guilabel">slansre.exe</span></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&lt;filename&gt;.res</span></code></p></td>
<td><p>For most cases, only this executable is used</p></td>
</tr>
</tbody>
</table>
<p>The geometry could also be entered manually by filling in the values in the field
with the corresponding geometric parameter values.</p>
<p>In the design of accelerator cavities, we usually want the cavity to operate at a particular frequency. We have six
variables to play around with and one variable is reserved for tuning to the desired frequency. In most cases, the
equator radius <code class="docutils literal notranslate"><span class="pre">Req</span></code> is the preferred variable for tuning for mid cell cavities. For the end cells, L is the tune
variable. There are several other variations to this. For example, in a single or 2 cell cavity, <code class="docutils literal notranslate"><span class="pre">L</span></code> or <code class="docutils literal notranslate"><span class="pre">Req</span></code>
could be selected as the tune variable. For cavities with flat-tops, like the Jlab cavities ref{}, <code class="docutils literal notranslate"><span class="pre">l</span></code>, the length
of the flat top section is the tune variable.</p>
<p>In the following example, we will tune Req of the mid cell of a TESLA cavity to operate at a fundamental mode frequency
of 1300~MHz. The description of the fields are given in ref{}.</p>
<ul>
<li><div class="line-block">
<div class="line">On the homepage of the application, click on <span class="guilabel">TUNE</span> or the side button <span class="guilabel">T</span>. This will navigate</div>
<div class="line">to the <cite>Tune</cite> frame.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Select <code class="docutils literal notranslate"><span class="pre">Mid</span> <span class="pre">Cell</span></code> as the <code class="docutils literal notranslate"><span class="pre">Cell</span> <span class="pre">Type</span></code>, <code class="docutils literal notranslate"><span class="pre">Variable</span></code> as <code class="docutils literal notranslate"><span class="pre">Req</span></code>. Leave <code class="docutils literal notranslate"><span class="pre">Method</span></code>,</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Tuner</span></code> as <code class="docutils literal notranslate"><span class="pre">PyTune</span></code>, <code class="docutils literal notranslate"><span class="pre">Left</span> <span class="pre">BC</span></code> and <code class="docutils literal notranslate"><span class="pre">Right</span> <span class="pre">BC</span></code> as <code class="docutils literal notranslate"><span class="pre">Magnetic</span> <span class="pre">Wall</span> <span class="pre">En=0</span></code>,</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">N</span> <span class="pre">Cells</span></code> as <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">Frequency</span></code> to <code class="docutils literal notranslate"><span class="pre">1300</span></code>.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Enter the geometric parameters to the corresponding fields</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Click on the play button to run.</div>
</div>
</li>
</ul>
<p>The results are written to <code class="docutils literal notranslate"><span class="pre">SimulationData/ABCI/&lt;filename&gt;</span></code>. If no name was given, the results are saved to
<code class="docutils literal notranslate"><span class="pre">SimulationData/ABCI/Cavity0</span></code>. The folder contains the geometric properties and quantities of interest on the tuned
cavities. They are saved in <code class="docutils literal notranslate"><span class="pre">geometric_parameters.json</span></code> and <code class="docutils literal notranslate"><span class="pre">qois.json</span></code>, respectively. This file is writen by
Python. They can be viewed with any text editor. The tune results are saved in <code class="docutils literal notranslate"><span class="pre">tune_res.json</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The SLANS software creates a lot of pop ups during the running of any simulation so the system would become
unusable for the period of the tuning or eigenmode analysis. It is most noticeable when a large number of
cavities are tuned or analysed in one sweep.</p>
</div>
<p>The process to run wakefield analysis using ABCI is similar to that for eigenmode
analysis. The geometry is loaded exactly the same.</p>
<ul>
<li><div class="line-block">
<div class="line">Click on <span class="guilabel">…</span> to open the file dialog box and select the <code class="docutils literal notranslate"><span class="pre">.json</span></code> file</div>
<div class="line">containing the geometric parameters</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Click on <span class="guilabel">Cell Parameters</span> to set the number of cells, modules, length of the</div>
<div class="line">left beam pipe, polarity and number of processor. Set <code class="docutils literal notranslate"><span class="pre">Polarity</span></code> to <code class="docutils literal notranslate"><span class="pre">monopole</span></code> to</div>
<div class="line">calculate for the longitudinal wakefield analysis, <code class="docutils literal notranslate"><span class="pre">Dipole</span></code> for transverse wakefield analysis</div>
<div class="line">and <code class="docutils literal notranslate"><span class="pre">Both</span></code> for both longitudinal and transverse wakefield analysis. Select <code class="docutils literal notranslate"><span class="pre">Both</span></code>.</div>
</div>
</li>
</ul>
<p>The results are written to <code class="docutils literal notranslate"><span class="pre">SimulationData/ABCI/&lt;filename&gt;</span></code>. If no name was given, the results are saved to
<code class="docutils literal notranslate"><span class="pre">SimulationData/ABCI/Cavity0</span></code>. The quantities of interest are saved to <code class="docutils literal notranslate"><span class="pre">qois.json</span></code>.
This file is writen by Python. The ABCI written files can be viewed using the corresponding executable
file in <code class="docutils literal notranslate"><span class="pre">exe/ABCI_exe/TopDrawer</span> <span class="pre">for</span> <span class="pre">Windows</span></code>. You can also set the default application for viewing <code class="docutils literal notranslate"><span class="pre">.top</span></code> files
as the ABCI executable file.</p>
</section>
<section id="updating">
<span id="quick-updating"></span><h2><a class="toc-backref" href="#id12">Updating</a><a class="headerlink" href="#updating" title="Permalink to this heading"></a></h2>
<p>The CaDH-Library can be updated by using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code> <a href="#id3"><span class="problematic" id="id4">:octicon:`report;1em;sd-text-info`</span></a> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">merge</span></code> <a href="#id5"><span class="problematic" id="id6">:octicon:`git-merge;1em;sd-text-info`</span></a>.</p>
<div class="highlight-PowerShell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd </span><span class="n">CaDHRoot</span>
<span class="c"># update the local repository</span>
<span class="n">git</span> <span class="n">fetch</span> <span class="p">-</span><span class="n">-prune</span>
<span class="c"># review the commit tree and messages, using the &#39;treea&#39; alias</span>
<span class="n">git</span> <span class="n">tree</span>
<span class="c"># if all changes are OK, do a fast-forward merge</span>
<span class="n">git</span> <span class="n">merge</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><span class="xref std std-doc">Running one or more testbenches</span></dt><dd><p>The installation can be checked by running one or more of PoC’s testbenches.</p>
</dd>
<dt><span class="xref std std-doc">Running one or more netlist generation flows</span></dt><dd><p>The installation can also be checked by running one or more of PoC’s
synthesis flows.</p>
</dd>
</dl>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="introduction.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="theory.html" class="btn btn-neutral float-right" title="Theory" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Sosoho-abasi Udongwo.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>