<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>main_control &mdash; CavityHub 0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> CavityHub
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick Start Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">CavityDesignHub</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CavityHub</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Module code</a></li>
      <li class="breadcrumb-item active">main_control</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for main_control</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Created on 12 December 2022</span>
<span class="sd">@author: Sosoho-Abasi Udongwo</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">ctypes</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="c1"># import pyautogui</span>
<span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">QtCore</span>
<span class="kn">from</span> <span class="nn">utils.misc_functions</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtCore</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtGui</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">modules.analysis_module.analysis_codes</span> <span class="kn">import</span> <span class="n">Analysis</span>
<span class="kn">from</span> <span class="nn">ui_files.main_window</span> <span class="kn">import</span> <span class="n">Ui_MainWindow</span>
<span class="kn">from</span> <span class="nn">ui_files.run_tune</span> <span class="kn">import</span> <span class="n">Ui_w_Tune</span>
<span class="kn">from</span> <span class="nn">ui_files.wakefield</span> <span class="kn">import</span> <span class="n">Ui_Wakefield</span>
<span class="kn">from</span> <span class="nn">utils.file_reader</span> <span class="kn">import</span> <span class="n">FileReader</span>
<span class="kn">from</span> <span class="nn">frame_controls.multipacting_control</span> <span class="kn">import</span> <span class="n">MultipactingControl</span>
<span class="kn">from</span> <span class="nn">frame_controls.misc</span> <span class="kn">import</span> <span class="n">MiscControl</span>
<span class="kn">from</span> <span class="nn">frame_controls.plot_control</span> <span class="kn">import</span> <span class="n">PlotControl</span>
<span class="kn">from</span> <span class="nn">frame_controls.eigenmode</span> <span class="kn">import</span> <span class="n">EigenmodeControl</span>
<span class="kn">from</span> <span class="nn">frame_controls.postprocess</span> <span class="kn">import</span> <span class="n">PostprocessControl</span>
<span class="kn">from</span> <span class="nn">frame_controls.tune_control</span> <span class="kn">import</span> <span class="n">TuneControl</span><span class="p">,</span> <span class="n">OptimizationControl</span>
<span class="kn">from</span> <span class="nn">frame_controls.wakefield_control</span> <span class="kn">import</span> <span class="n">WakefieldControl</span>
<span class="kn">from</span> <span class="nn">node_editor.node_editor_widget</span> <span class="kn">import</span> <span class="n">NodeEditorWidget</span>
<span class="kn">import</span> <span class="nn">qtvscodestyle</span> <span class="k">as</span> <span class="nn">qtvsc</span>

<span class="c1"># sys.path.append(r&quot;D:\Dropbox\CavityDesignHub\test_plugin&quot;) # to search inside this directory for imports</span>


<span class="c1"># pyuic5 -x ui_files/main_window.ui -o ui_files/main_window.py</span>
<span class="c1"># pyuic5 -x ui_files/eigenmode.ui -o ui_files/eigenmode.py</span>
<span class="c1"># pyuic5 -x ui_files/postprocess.ui -o ui_files/postprocess.py</span>
<span class="c1"># pyuic5 -x ui_files/multipacting.ui -o ui_files/multipacting.py</span>
<span class="c1"># pyuic5 -x ui_files/run_tune.ui -o ui_files/run_tune.py</span>
<span class="c1"># pyuic5 -x ui_files/plot.ui -o ui_files/plot.py</span>
<span class="c1"># pyuic5 -x ui_files/wakefield.ui -o ui_files/wakefield.py</span>
<span class="c1"># pyuic5 -x ui_files/geometry_input.ui -o ui_files/geometry_input.py</span>
<span class="c1"># pyuic5 -x ui_files/misc.ui -o ui_files/misc.py</span>
<span class="c1"># pyuic5 -x ui_files/wg_calculations.ui -o ui_files/wg_calculations.py</span>
<span class="c1"># pyuic5 -x ui_files/mode_nomenclature.ui -o ui_files/mode_nomenclature.py</span>
<span class="c1"># pyuic5 -x ui_files/pandas_table.ui -o ui_files/pandas_table.py</span>
<span class="c1"># pyuic5 -x ui_files/pp_plot.ui -o ui_files/pp_plot.py</span>
<span class="c1"># pyuic5 -x ui_files/plot_properties.ui -o ui_files/pprops.py</span>
<span class="c1"># pyuic5 -x ui_files/edit_annotated_text.ui -o ui_files/edit_annotated_text.py</span>
<span class="c1"># pyuic5 -x ui_files/edit_line2D.ui -o ui_files/edit_line2D.py</span>
<span class="c1"># pyuic5 -x ui_files/plot_widget_header.ui -o ui_files/plot_widget_header.py</span>
<span class="c1"># pyuic5 -x ui_files/abci_plot.ui -o ui_files/abci_plot.py</span>
<span class="c1"># pyuic5 -x ui_files/plottypeselector.ui -o ui_files/plottypeselector.py</span>
<span class="c1"># pyrcc5 qss/icons.qrc -o icons_rc.py</span>
<span class="c1"># git push -f  https://github.com/Dark-Elektron/CavityDesignHub.git master</span>
<span class="c1"># sphinx-autobuild ./source ./_build/html</span>
<span class="c1"># sphinx-apidoc -o source .. -f</span>


<span class="n">fr</span> <span class="o">=</span> <span class="n">FileReader</span><span class="p">()</span>

<span class="n">myappid</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;ll&#39;</span>  <span class="c1"># arbitrary string</span>
<span class="n">ctypes</span><span class="o">.</span><span class="n">windll</span><span class="o">.</span><span class="n">shell32</span><span class="o">.</span><span class="n">SetCurrentProcessExplicitAppUserModelID</span><span class="p">(</span><span class="n">myappid</span><span class="p">)</span>

<span class="n">DEBUG</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">AN_DURATION</span> <span class="o">=</span> <span class="mi">250</span>


<div class="viewcode-block" id="MainWindow"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow">[docs]</a><span class="k">class</span> <span class="nc">MainWindow</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This does good stuff.</span>

<span class="sd">    Here are the details about the good stuff it does.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    x : int</span>
<span class="sd">        An integer which has amazing things done to it</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    y : int</span>
<span class="sd">        Some other thing</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">animation</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wakefield_widget</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eigenmode_widget</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">misc_widget</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_widget</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">postprocess_widget</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multipacting_widget</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tune_widget</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames_dict</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_frame</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tray_buttons_dict</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_win</span> <span class="o">=</span> <span class="n">QMainWindow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="o">.</span><span class="n">closeEvent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">closeEvent</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">Ui_MainWindow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="p">)</span>

        <span class="c1"># set window height</span>
        <span class="c1"># width, height = pyautogui.size()</span>
        <span class="c1"># self.main_win.setFixedHeight(height)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">global_state</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_saved_theme</span> <span class="o">=</span> <span class="s1">&#39;Light VS&#39;</span>

        <span class="c1"># self.initUI()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parentDir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projectDir</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;D:\Dropbox\CavityDesignHub\SampleProject&#39;</span>

        <span class="c1"># add node editor</span>
        <span class="c1"># new = NodeEditorWidget()</span>
        <span class="c1"># new.addNodes()</span>
        <span class="c1"># self.ui.gl_Node_Editor.addWidget(new)</span>

        <span class="c1"># initialize logging</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logTextBox</span> <span class="o">=</span> <span class="n">QPlainTextEditLogger</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">logging</span>
        <span class="c1"># log options debug(), info(), warning(), error()</span>

        <span class="c1"># add to layout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gl_Log</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logTextBox</span><span class="o">.</span><span class="n">widget</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logTextBox</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> - </span><span class="si">%(levelname)s</span><span class="s1"> - </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logTextBox</span><span class="p">)</span>
        <span class="c1"># change formatter to include color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logTextBox</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">CustomFormatter</span><span class="p">())</span>

        <span class="c1"># You can control the logging level</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Session started&#39;</span><span class="p">)</span>

        <span class="c1">#</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">new_open_folder</span><span class="p">()</span>

        <span class="c1"># check if last state should be loaded</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_last_state</span><span class="p">()</span>

        <span class="c1"># Add stylesheet</span>
        <span class="c1"># self.stylesheet_filename = &#39;qss/aqua.qss&#39;</span>
        <span class="c1"># self.loadStylesheet(self.stylesheet_filename)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">theme_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Light VS&#39;</span><span class="p">:</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">Theme</span><span class="o">.</span><span class="n">LIGHT_VS</span><span class="p">,</span>
                           <span class="s1">&#39;Quiet Light&#39;</span><span class="p">:</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">Theme</span><span class="o">.</span><span class="n">QUIET_LIGHT</span><span class="p">,</span>
                           <span class="s1">&#39;Solarized Light&#39;</span><span class="p">:</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">Theme</span><span class="o">.</span><span class="n">SOLARIZED_LIGHT</span><span class="p">,</span>
                           <span class="s1">&#39;Abyss&#39;</span><span class="p">:</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">Theme</span><span class="o">.</span><span class="n">ABYSS</span><span class="p">,</span>
                           <span class="s1">&#39;Dark VS&#39;</span><span class="p">:</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">Theme</span><span class="o">.</span><span class="n">DARK_VS</span><span class="p">,</span>
                           <span class="s1">&#39;Kimbie Dark&#39;</span><span class="p">:</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">Theme</span><span class="o">.</span><span class="n">KIMBIE_DARK</span><span class="p">,</span>
                           <span class="s1">&#39;Monokai&#39;</span><span class="p">:</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">Theme</span><span class="o">.</span><span class="n">MONOKAI</span><span class="p">,</span>
                           <span class="s1">&#39;Monokai Dimmed&#39;</span><span class="p">:</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">Theme</span><span class="o">.</span><span class="n">MONOKAI_DIMMED</span><span class="p">,</span>
                           <span class="s1">&#39;Red&#39;</span><span class="p">:</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">Theme</span><span class="o">.</span><span class="n">RED</span><span class="p">,</span>
                           <span class="s1">&#39;Solarized Dark&#39;</span><span class="p">:</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">Theme</span><span class="o">.</span><span class="n">SOLARIZED_DARK</span><span class="p">,</span>
                           <span class="s1">&#39;Tomorrow Night Blue&#39;</span><span class="p">:</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">Theme</span><span class="o">.</span><span class="n">TOMORROW_NIGHT_BLUE</span><span class="p">,</span>
                           <span class="s1">&#39;Dark High Contrast&#39;</span><span class="p">:</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">Theme</span><span class="o">.</span><span class="n">DARK_HIGH_CONTRAST</span>
                           <span class="p">}</span>
        <span class="c1"># Theme name             Symbol</span>
        <span class="c1"># ___________            ______</span>
        <span class="c1">#</span>
        <span class="c1"># Light (Visual Studio): LIGHT_VS</span>
        <span class="c1"># Quiet Light          : QUIET_LIGHT</span>
        <span class="c1"># Solarized Light      : SOLARIZED_LIGHT</span>
        <span class="c1"># Abyss                : ABYSS</span>
        <span class="c1"># Dark (Visual Studio) : DARK_VS</span>
        <span class="c1"># Kimbie Dark          : KIMBIE_DARK</span>
        <span class="c1"># Monokai              : MONOKAI</span>
        <span class="c1"># Monokai Dimmed       : MONOKAI_DIMMED</span>
        <span class="c1"># Red                  : RED</span>
        <span class="c1"># Solarized Dark       : SOLARIZED_DARK</span>
        <span class="c1"># Tomorrow Night Blue  : TOMORROW_NIGHT_BLUE</span>
        <span class="c1"># Dark High Contrast   : DARK_HIGH_CONTRAST</span>
        <span class="c1"># stylesheet = qtvsc.load_stylesheet(qtvsc.Theme.DARK_VS)</span>
        <span class="n">stylesheet</span> <span class="o">=</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">load_stylesheet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theme_dict</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">last_saved_theme</span><span class="p">])</span>
        <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">stylesheet</span><span class="p">)</span>

        <span class="c1"># self.ui.pb_rHome.enterEvent = self.tray_animation</span>
        <span class="c1"># self.ui.pb_rHome.leaveEvent = self.tray_animation</span>

        <span class="c1"># save event filter to variable to be restored later</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">default_ef</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="o">.</span><span class="n">eventFilter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="o">.</span><span class="n">eventFilter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">eventFilter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rBack</span><span class="o">.</span><span class="n">installEventFilter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rHome</span><span class="o">.</span><span class="n">installEventFilter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rTune</span><span class="o">.</span><span class="n">installEventFilter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rEigenmode</span><span class="o">.</span><span class="n">installEventFilter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rWakefield</span><span class="o">.</span><span class="n">installEventFilter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rMultipacting</span><span class="o">.</span><span class="n">installEventFilter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rPlot</span><span class="o">.</span><span class="n">installEventFilter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rPostprocess</span><span class="o">.</span><span class="n">installEventFilter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rMisc</span><span class="o">.</span><span class="n">installEventFilter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="p">)</span>

        <span class="c1"># ui effects</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui_effects</span><span class="p">()</span>

        <span class="c1"># window state before closing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings</span> <span class="o">=</span> <span class="n">QSettings</span><span class="p">(</span><span class="s1">&#39;MyQtApp&#39;</span><span class="p">,</span> <span class="s2">&quot;CavityDesignHub&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">fileName</span><span class="p">())</span>
        <span class="c1"># restore window state before closing</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">readSettings</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exception occured&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

<div class="viewcode-block" id="MainWindow.new_open_folder"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.new_open_folder">[docs]</a>    <span class="k">def</span> <span class="nf">new_open_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to create new project or open old projects.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># disable all buttons</span>
        <span class="c1"># signals to create folder</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_New_Project_Filename</span><span class="o">.</span><span class="n">returnPressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_project</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Open_Project</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_project</span><span class="p">())</span>

        <span class="c1"># create new/open project</span>
        <span class="c1"># set size to zero</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_New_Project_Filename</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_New_Project</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">animate_width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_New_Project_Filename</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span></div>

<div class="viewcode-block" id="MainWindow.initUI"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.initUI">[docs]</a>    <span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialise class variables and initial GUI state</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># hidden widgets</span>

        <span class="c1"># hold last frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_frame</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_i: main_control.py&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frames_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Home&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rHome</span><span class="p">],</span>
                            <span class="s1">&#39;Tune&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Tune</span><span class="p">],</span>
                            <span class="s1">&#39;Wakefield&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Wakefield_Analysis</span><span class="p">],</span>
                            <span class="s1">&#39;Multipacting&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Multipacting_Analysis</span><span class="p">],</span>
                            <span class="s1">&#39;Eigenmode&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Eigenmode_Analysis</span><span class="p">],</span>
                            <span class="s1">&#39;Postprocess&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Post_Process</span><span class="p">],</span>
                            <span class="s1">&#39;Plot&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Plot</span><span class="p">],</span>
                            <span class="s1">&#39;Misc&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Misc</span><span class="p">]</span>
                            <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tray_buttons_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Home&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rHome</span><span class="p">],</span>
                                  <span class="s1">&#39;Tune&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rTune</span><span class="p">],</span>
                                  <span class="s1">&#39;Wakefield&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rWakefield</span><span class="p">],</span>
                                  <span class="s1">&#39;Multipacting&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rMultipacting</span><span class="p">],</span>
                                  <span class="s1">&#39;Eigenmode&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rEigenmode</span><span class="p">],</span>
                                  <span class="s1">&#39;Postprocess&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rPostprocess</span><span class="p">],</span>
                                  <span class="s1">&#39;Plot&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rPlot</span><span class="p">],</span>
                                  <span class="s1">&#39;Misc&#39;</span><span class="p">:</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rMisc</span><span class="p">]</span>
                                  <span class="p">}</span>

        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_ii: main_control.py&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_frames_ui</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_iii: main_control.py&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">signals</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_iii: main_control.py&quot;</span><span class="p">)</span>

        <span class="c1">###########################################</span>

        <span class="c1"># Instantiation</span>
        <span class="c1"># evolution</span>
        <span class="c1"># self.analysis = Analysis(self)</span>

        <span class="c1"># house keeping</span>
        <span class="c1"># self.hk = HouseKeeping(self)</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_iii: main_control.py&quot;</span><span class="p">)</span>

        <span class="c1">#############################################</span>
        <span class="c1"># set initial session log widget state to collapsed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">w_Log</span><span class="o">.</span><span class="n">setMinimumWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">w_Log</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.signals"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.signals">[docs]</a>    <span class="k">def</span> <span class="nf">signals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        All the signals for the PyQt objects can be found here.</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># signal for home buttons</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">button_widget_pair</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">button_widget_pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span> <span class="n">_</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">key</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_frame</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>

        <span class="c1"># signal for button panel</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rTune</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_frame</span><span class="p">(</span><span class="s1">&#39;Tune&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rEigenmode</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_frame</span><span class="p">(</span><span class="s1">&#39;Eigenmode&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rWakefield</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_frame</span><span class="p">(</span><span class="s1">&#39;Wakefield&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rMultipacting</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_frame</span><span class="p">(</span><span class="s1">&#39;Multipacting&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rPostprocess</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_frame</span><span class="p">(</span><span class="s1">&#39;Postprocess&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rPlot</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_frame</span><span class="p">(</span><span class="s1">&#39;Plot&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rMisc</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_frame</span><span class="p">(</span><span class="s1">&#39;Misc&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rHome</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_frame</span><span class="p">(</span><span class="s1">&#39;Home&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_rBack</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">return_to_last_frame</span><span class="p">())</span>

        <span class="c1"># theme signal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Apply_Theme</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_theme</span><span class="p">())</span>

        <span class="c1"># save state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Save_State</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">serialize</span><span class="p">())</span>

        <span class="c1"># # load state file</span>
        <span class="c1"># self.ui.pb_Load_State_File.clicked.connect(lambda: self.deserialize())</span>

        <span class="c1"># expand/collapse session log</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Expand_Collapse_Log</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">animate_width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">w_Log</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">375</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="MainWindow.create_frames_ui"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.create_frames_ui">[docs]</a>    <span class="k">def</span> <span class="nf">create_frames_ui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create the GUI frames</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_i_1: main_control.py&quot;</span><span class="p">)</span>
        <span class="c1"># frame UIs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tune_widget</span> <span class="o">=</span> <span class="n">TuneControl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_i_1: main_control.py&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wakefield_widget</span> <span class="o">=</span> <span class="n">WakefieldControl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_i_1: main_control.py&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eigenmode_widget</span> <span class="o">=</span> <span class="n">EigenmodeControl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_i_1: main_control.py&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">postprocess_widget</span> <span class="o">=</span> <span class="n">PostprocessControl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_i_1: main_control.py&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">misc_widget</span> <span class="o">=</span> <span class="n">MiscControl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_i_1: main_control.py&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_widget</span> <span class="o">=</span> <span class="n">PlotControl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_i_1: main_control.py&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multipacting_widget</span> <span class="o">=</span> <span class="n">MultipactingControl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_i_2: main_control.py&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">frames_dict</span><span class="p">[</span><span class="s1">&#39;Home&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sa_Home</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames_dict</span><span class="p">[</span><span class="s1">&#39;Tune&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tune_widget</span><span class="o">.</span><span class="n">w_Tune</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames_dict</span><span class="p">[</span><span class="s1">&#39;Wakefield&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wakefield_widget</span><span class="o">.</span><span class="n">w_Wakefield</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames_dict</span><span class="p">[</span><span class="s1">&#39;Eigenmode&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">eigenmode_widget</span><span class="o">.</span><span class="n">w_Eigenmode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames_dict</span><span class="p">[</span><span class="s1">&#39;Multipacting&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">multipacting_widget</span><span class="o">.</span><span class="n">w_Multipacting</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames_dict</span><span class="p">[</span><span class="s1">&#39;Postprocess&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">postprocess_widget</span><span class="o">.</span><span class="n">w_Postprocess</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames_dict</span><span class="p">[</span><span class="s1">&#39;Plot&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_widget</span><span class="o">.</span><span class="n">w_Plot</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames_dict</span><span class="p">[</span><span class="s1">&#39;Misc&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">misc_widget</span><span class="o">.</span><span class="n">w_Misc</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e_i_3: main_control.py&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.change_frame"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.change_frame">[docs]</a>    <span class="k">def</span> <span class="nf">change_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Switch between GUI frames</span>
<span class="sd">        :param key:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># remove existing widgets</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">g_Display</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="c1"># save last frame</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">g_Display</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>

        <span class="k">while</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">g_Display</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">g_Display</span><span class="o">.</span><span class="n">removeWidget</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
            <span class="n">index</span> <span class="o">-=</span> <span class="mi">1</span>

        <span class="c1"># get correct widget</span>
        <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">g_Display</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">w</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">pb</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tray_buttons_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">k</span><span class="p">:</span>
                <span class="n">pb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">pb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">setMinimumWidth</span><span class="p">(</span><span class="mi">75</span><span class="p">)</span>
                <span class="n">pb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="mi">75</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">pb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="n">pb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">setMinimumWidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
                <span class="n">pb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.return_to_last_frame"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.return_to_last_frame">[docs]</a>    <span class="k">def</span> <span class="nf">return_to_last_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Is called when return button is clicked on the GUI</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_frame</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">g_Display</span><span class="o">.</span><span class="n">count</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">while</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">g_Display</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">widget</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">g_Display</span><span class="o">.</span><span class="n">removeWidget</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
                <span class="n">index</span> <span class="o">-=</span> <span class="mi">1</span>

            <span class="c1"># get correct widget</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">g_Display</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_frame</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_frame</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.animate_width"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.animate_width">[docs]</a>    <span class="k">def</span> <span class="nf">animate_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">min_width</span><span class="p">,</span> <span class="n">standard</span><span class="p">,</span> <span class="n">enable</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s2">&quot;max&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Animate width for GUI transition effect</span>
<span class="sd">        :param widget: PyQt Widget</span>
<span class="sd">        :param min_width: int or float</span>
<span class="sd">        :param standard: int or float</span>
<span class="sd">        :param enable:</span>
<span class="sd">        :param option:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">enable</span><span class="p">:</span>
            <span class="c1"># GET WIDTH</span>
            <span class="n">width</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
            <span class="c1"># SET MAX WIDTH</span>
            <span class="k">if</span> <span class="n">width</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">widthCollapsed</span> <span class="o">=</span> <span class="n">min_width</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setMinimumWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">widthCollapsed</span> <span class="o">=</span> <span class="n">standard</span>
                <span class="c1"># widget.setMinimumWidth(standard)</span>

            <span class="c1"># ANIMATION</span>
            <span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">animation</span> <span class="o">=</span> <span class="n">QPropertyAnimation</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;maximumWidth&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">animation</span> <span class="o">=</span> <span class="n">QPropertyAnimation</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;minimumWidth&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">setDuration</span><span class="p">(</span><span class="n">AN_DURATION</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">setStartValue</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">setEndValue</span><span class="p">(</span><span class="n">widthCollapsed</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">setEasingCurve</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QEasingCurve</span><span class="o">.</span><span class="n">InOutQuart</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.animate_height"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.animate_height">[docs]</a>    <span class="k">def</span> <span class="nf">animate_height</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">min_height</span><span class="p">,</span> <span class="n">standard</span><span class="p">,</span> <span class="n">enable</span><span class="p">,</span> <span class="n">option</span><span class="o">=</span><span class="s2">&quot;max&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Animate height for GUI transition effect</span>
<span class="sd">        :param widget: PyQt Widget</span>
<span class="sd">        :param min_height: int or float</span>
<span class="sd">        :param standard: int or float</span>
<span class="sd">        :param enable:</span>
<span class="sd">        :param option:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">enable</span><span class="p">:</span>
            <span class="c1"># GET WIDTH</span>
            <span class="n">height</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>

            <span class="c1"># SET MAX WIDTH</span>
            <span class="k">if</span> <span class="n">height</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">heightCollapsed</span> <span class="o">=</span> <span class="n">min_height</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setMinimumHeight</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">heightCollapsed</span> <span class="o">=</span> <span class="n">standard</span>
                <span class="c1"># self.ui.w_Shape_Parameters.setMinimumSize(0, 250)</span>

            <span class="c1"># ANIMATION</span>
            <span class="k">if</span> <span class="n">option</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">animation</span> <span class="o">=</span> <span class="n">QPropertyAnimation</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;maximumHeight&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">animation</span> <span class="o">=</span> <span class="n">QPropertyAnimation</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="sa">b</span><span class="s2">&quot;minimumHeight&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">setDuration</span><span class="p">(</span><span class="n">AN_DURATION</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">setStartValue</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">setEndValue</span><span class="p">(</span><span class="n">heightCollapsed</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">setEasingCurve</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QEasingCurve</span><span class="o">.</span><span class="n">InOutQuart</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.create_project"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.create_project">[docs]</a>    <span class="k">def</span> <span class="nf">create_project</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create project</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">project_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_New_Project_Filename</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">project_name</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">project_dir</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getExistingDirectory</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Select Directory&quot;</span><span class="p">))</span>
            <span class="n">project_dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">f2b_slashes</span><span class="p">(</span><span class="n">project_dir</span><span class="p">)</span>

            <span class="c1"># check if folder already exist</span>
            <span class="n">e</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">checkIfPathExist</span><span class="p">(</span><span class="n">project_dir</span><span class="p">,</span> <span class="n">project_name</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">e</span><span class="p">:</span>
                <span class="c1"># self.animate_width(self.ui.le_New_Project_Filename, 0, 150, True)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_New_Project_Filename</span><span class="o">.</span><span class="n">setMinimumWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_New_Project_Filename</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">l_Project_Name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">fr</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">project_dir</span><span class="si">}</span><span class="s1">\</span><span class="si">{</span><span class="n">project_name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

                <span class="k">def</span> <span class="nf">make_dirs_from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">current_dir</span><span class="o">=</span><span class="n">project_dir</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_dir</span><span class="p">,</span> <span class="n">key</span><span class="p">))</span>
                        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">==</span> <span class="nb">dict</span><span class="p">:</span>
                            <span class="n">make_dirs_from_dict</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_dir</span><span class="p">,</span> <span class="n">key</span><span class="p">))</span>

                <span class="c1"># create project structure in folders</span>
                <span class="n">project_dir_structure</span> <span class="o">=</span> <span class="p">{</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">project_name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">:</span>
                                             <span class="p">{</span><span class="s1">&#39;Cavities&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                              <span class="s1">&#39;SimulationData&#39;</span><span class="p">:</span> <span class="p">{</span>
                                                  <span class="s1">&#39;SLANS&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                                  <span class="s1">&#39;ABCI&#39;</span><span class="p">:</span> <span class="kc">None</span>
                                              <span class="p">},</span>
                                              <span class="s1">&#39;PostprocessingData&#39;</span><span class="p">:</span> <span class="p">{</span>
                                                  <span class="s1">&#39;Plots&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                                  <span class="s1">&#39;Data&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                                                  <span class="s1">&#39;CSTData&#39;</span><span class="p">:</span> <span class="kc">None</span>
                                              <span class="p">}</span>
                                              <span class="p">}</span>
                                         <span class="p">}</span>

                <span class="n">make_dirs_from_dict</span><span class="p">(</span><span class="n">project_dir_structure</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">projectDir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">f2b_slashes</span><span class="p">(</span><span class="sa">fr</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">project_dir</span><span class="si">}</span><span class="s2">\</span><span class="si">{</span><span class="n">project_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="c1"># only initialize UI after successfully setting folder</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">global_state</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please enter a valid project name&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.open_project"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.open_project">[docs]</a>    <span class="k">def</span> <span class="nf">open_project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project_dir</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open project</span>
<span class="sd">        :param project_dir:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2a: main_control.py&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">project_dir</span><span class="p">:</span>
            <span class="n">project_dir</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getExistingDirectory</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Select Directory&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">projectDir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">f2b_slashes</span><span class="p">(</span><span class="n">project_dir</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;open project&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">projectDir</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="sa">fr</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">project_dir</span><span class="si">}</span><span class="s1">\state_file.json&#39;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="sa">fr</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">project_dir</span><span class="si">}</span><span class="s1">\state_file.json&#39;</span><span class="p">)</span>

            <span class="c1"># only initialize UI after successfully setting folder and initialise only once</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">l_Project_Name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">projectDir</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">global_state</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">elif</span> <span class="n">project_dir</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2b: main_control.py&quot;</span><span class="p">)</span>
            <span class="c1"># check if it&#39;s a valid project folder</span>
            <span class="n">sub_dirs</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">project_dir</span><span class="p">)</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">project_dir</span><span class="p">,</span> <span class="n">a</span><span class="p">))]</span>
            <span class="n">compare_dirs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Cavities&#39;</span><span class="p">,</span> <span class="s1">&#39;PostprocessingData&#39;</span><span class="p">,</span> <span class="s1">&#39;SimulationData&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2c: main_control.py&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">sub_dirs</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">sub_dirs</span><span class="p">))</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">compare_dirs</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">l_Project_Name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">project_dir</span><span class="p">)</span>  <span class="c1"># .split(&#39;/&#39;)[-1]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">projectDir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">f2b_slashes</span><span class="p">(</span><span class="n">project_dir</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2d: main_control.py&quot;</span><span class="p">)</span>

                <span class="c1"># only initialize UI after successfully setting folder and initialise only once</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">l_Project_Name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">projectDir</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">global_state</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2e: main_control.py&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">global_state</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2f: main_control.py&quot;</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please select a valid project directory&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Please select a valid project directory&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.change_theme"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.change_theme">[docs]</a>    <span class="k">def</span> <span class="nf">change_theme</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Change GUI theme</span>
<span class="sd">        :return:</span>
<span class="sd">        :desc:</span>
<span class="sd">            Light (Visual Studio): LIGHT_VS</span>
<span class="sd">            Quiet Light          : QUIET_LIGHT</span>
<span class="sd">            Solarized Light      : SOLARIZED_LIGHT</span>
<span class="sd">            Abyss                : ABYSS</span>
<span class="sd">            Dark (Visual Studio) : DARK_VS</span>
<span class="sd">            Kimbie Dark          : KIMBIE_DARK</span>
<span class="sd">            Monokai              : MONOKAI</span>
<span class="sd">            Monokai Dimmed       : MONOKAI_DIMMED</span>
<span class="sd">            Red                  : RED</span>
<span class="sd">            Solarized Dark       : SOLARIZED_DARK</span>
<span class="sd">            Tomorrow Night Blue  : TOMORROW_NIGHT_BLUE</span>
<span class="sd">            Dark High Contrast   : DARK_HIGH_CONTRAST</span>
<span class="sd">            stylesheet = qtvsc.load_stylesheet(qtvsc.Theme.DARK_VS)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">stylesheet</span> <span class="o">=</span> <span class="n">qtvsc</span><span class="o">.</span><span class="n">load_stylesheet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">theme_dict</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Theme</span><span class="o">.</span><span class="n">currentText</span><span class="p">()])</span>
        <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="n">stylesheet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_saved_theme</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Theme</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

        <span class="c1"># change plot widget colors</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_widget</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">change_background</span><span class="p">(</span><span class="s1">&#39;#586e75&#39;</span><span class="p">)</span></div>

        <span class="c1"># if self.ui.hs_Theme.value() == 0:</span>
        <span class="c1">#     self.stylesheet_filename = &#39;qss/aqua.qss&#39;</span>
        <span class="c1">#     self.loadStylesheet(self.stylesheet_filename)</span>
        <span class="c1"># else:</span>
        <span class="c1">#     self.stylesheet_filename = &#39;qss/amoled.qss&#39;</span>
        <span class="c1">#     self.loadStylesheet(self.stylesheet_filename)</span>

<div class="viewcode-block" id="MainWindow.serialize"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.serialize">[docs]</a>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save GUI object states</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># serialize home</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># open state file</span>
            <span class="n">state_dict</span> <span class="o">=</span> <span class="n">fr</span><span class="o">.</span><span class="n">json_reader</span><span class="p">(</span><span class="s1">&#39;ui_state_files/state_file.json&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;state_file.json not found, initializing state_dict = </span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">state_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># update state file</span>
        <span class="c1"># serialize home</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Project Directory&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">projectDir</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s1">&#39;Theme&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_saved_theme</span>

        <span class="c1"># serialize tuneUI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tune_widget</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">state_dict</span><span class="p">)</span>

        <span class="c1"># serialize eigenmodeUI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">eigenmode_widget</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">state_dict</span><span class="p">)</span>

        <span class="c1"># serialize wakefieldUI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wakefield_widget</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">state_dict</span><span class="p">)</span>

        <span class="c1"># serialize plotUI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_widget</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">state_dict</span><span class="p">)</span>

        <span class="c1"># dump save state file</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;ui_state_files/state_file.json&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">state_dict</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;: &#39;</span><span class="p">)))</span>

        <span class="c1"># dump save state file in project folder</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">projectDir</span><span class="si">}</span><span class="s1">/state_file.json&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
            <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">state_dict</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;: &#39;</span><span class="p">)))</span></div>

<div class="viewcode-block" id="MainWindow.deserialize"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.deserialize">[docs]</a>    <span class="k">def</span> <span class="nf">deserialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieve and update GUI object state from last saved GUI state</span>
<span class="sd">        :param file:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 1: main_control.py&quot;</span><span class="p">)</span>
        <span class="c1"># check if state file exists</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
            <span class="c1"># open state file</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">state_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

            <span class="c1"># try:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">projectDir</span> <span class="o">=</span> <span class="n">state_dict</span><span class="p">[</span><span class="s1">&#39;Project Directory&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_saved_theme</span> <span class="o">=</span> <span class="n">state_dict</span><span class="p">[</span><span class="s1">&#39;Theme&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Theme</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">last_saved_theme</span><span class="p">)</span>
            <span class="c1"># except:</span>
            <span class="c1">#     print(&quot;Could not deserialize theme and directory!&quot;)</span>

            <span class="c1"># open project</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2: main_control.py&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">open_project</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">projectDir</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 2end: main_control.py&quot;</span><span class="p">)</span>

            <span class="c1"># deserialise tuneUI</span>
            <span class="c1"># try:</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 3: main_control.py&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tune_widget</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="n">state_dict</span><span class="p">)</span>
            <span class="c1"># except:</span>
            <span class="c1">#     print(&quot;Could not deserialize tuneUI!&quot;)</span>

            <span class="c1"># deserialise eigenmodeUI</span>
            <span class="c1"># try:</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 4: main_control.py&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">eigenmode_widget</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="n">state_dict</span><span class="p">)</span>
            <span class="c1"># except:</span>
            <span class="c1">#     print(&quot;Could not deserialise eigenmodeUI!&quot;)</span>

            <span class="c1"># deserialise wakefieldUI</span>
            <span class="c1"># try:</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 5: main_control.py&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wakefield_widget</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="n">state_dict</span><span class="p">)</span>
            <span class="c1"># except:</span>
            <span class="c1">#     print(&quot;Could not deserialise wakefieldUI!&quot;)</span>

            <span class="c1"># deserialise plotUI</span>
            <span class="c1"># try:</span>
            <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Check 6: main_control.py&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plot_widget</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="n">state_dict</span><span class="p">)</span></div>
            <span class="c1"># except:</span>
            <span class="c1">#     print(&quot;Could not deserialise plotUI!&quot;)</span>

<div class="viewcode-block" id="MainWindow.load_last_state"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.load_last_state">[docs]</a>    <span class="k">def</span> <span class="nf">load_last_state</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># msg = QMessageBox()</span>
        <span class="c1"># msg.setWindowTitle(&quot;Folder Exist&quot;)</span>
        <span class="c1"># msg.setText(&quot;Do you wish to load the last saved project?&quot;)</span>
        <span class="c1"># msg.setIcon(QMessageBox.Question)</span>
        <span class="c1"># msg.setStandardButtons(QMessageBox.Yes | QMessageBox.No)</span>
        <span class="c1"># msg.setDefaultButton(QMessageBox.Yes)</span>
        <span class="c1">#</span>
        <span class="c1"># msg.buttonClicked.connect(self.button_clicked)</span>
        <span class="c1">#</span>
        <span class="c1"># x = msg.exec_()</span>
        <span class="c1">#</span>
        <span class="c1"># if x == msg.Yes:</span>
        <span class="c1">#     self.deserialize(&#39;ui_state_files/state_file.json&#39;)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="s1">&#39;ui_state_files/state_file.json&#39;</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Could not deserialize last state&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.checkIfPathExist"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.checkIfPathExist">[docs]</a>    <span class="k">def</span> <span class="nf">checkIfPathExist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">directory</span><span class="p">,</span> <span class="n">folder</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">directory</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">QMessageBox</span><span class="p">()</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Folder Exist&quot;</span><span class="p">)</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Project already exists. Do you want to overwrite?&quot;</span><span class="p">)</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Question</span><span class="p">)</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span> <span class="o">|</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">)</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">setDefaultButton</span><span class="p">(</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">)</span>
            <span class="n">msg</span><span class="o">.</span><span class="n">buttonClicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">button_clicked</span><span class="p">)</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">msg</span><span class="o">.</span><span class="n">Yes</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
                    <span class="k">return</span> <span class="kc">True</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">return</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="MainWindow.eventFilter"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.eventFilter">[docs]</a>    <span class="k">def</span> <span class="nf">eventFilter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">obj</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span><span class="p">()</span> <span class="o">==</span> <span class="n">QEvent</span><span class="o">.</span><span class="n">Enter</span><span class="p">:</span>  <span class="c1"># Enter</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="mi">75</span><span class="p">)</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">setMinimumWidth</span><span class="p">(</span><span class="mi">75</span><span class="p">)</span>

                <span class="k">return</span> <span class="kc">True</span>

            <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span><span class="p">()</span> <span class="o">==</span> <span class="n">QEvent</span><span class="o">.</span><span class="n">Leave</span><span class="p">:</span>  <span class="c1"># Enter</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">setMaximumSize</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
                <span class="n">obj</span><span class="o">.</span><span class="n">setMinimumSize</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_ef</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.ui_effects"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.ui_effects">[docs]</a>    <span class="k">def</span> <span class="nf">ui_effects</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Control UI effects. Currently turned off.</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">push_buttons</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frames_dict</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">shadow_effect</span> <span class="o">=</span> <span class="n">QGraphicsDropShadowEffect</span><span class="p">()</span>
            <span class="n">shadow_effect</span><span class="o">.</span><span class="n">setOffset</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
            <span class="n">shadow_effect</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">77</span><span class="p">))</span>
            <span class="n">shadow_effect</span><span class="o">.</span><span class="n">setBlurRadius</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

            <span class="n">push_buttons</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">setGraphicsEffect</span><span class="p">(</span><span class="n">shadow_effect</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">push_buttons</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tray_buttons_dict</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">shadow_effect</span> <span class="o">=</span> <span class="n">QGraphicsDropShadowEffect</span><span class="p">()</span>
            <span class="n">shadow_effect</span><span class="o">.</span><span class="n">setOffset</span><span class="p">(</span><span class="mf">2.5</span><span class="p">)</span>
            <span class="n">shadow_effect</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">77</span><span class="p">))</span>
            <span class="n">shadow_effect</span><span class="o">.</span><span class="n">setBlurRadius</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

            <span class="n">push_buttons</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">setGraphicsEffect</span><span class="p">(</span><span class="n">shadow_effect</span><span class="p">)</span></div>

<div class="viewcode-block" id="MainWindow.button_clicked"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.button_clicked">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">button_clicked</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">i</span><span class="o">.</span><span class="n">text</span><span class="p">()</span></div>

<div class="viewcode-block" id="MainWindow.f2b_slashes"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.f2b_slashes">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">f2b_slashes</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="c1"># replaces forward slashes with backward slashes for windows OS</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">path</span></div>

<div class="viewcode-block" id="MainWindow.loadStylesheet"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.loadStylesheet">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">loadStylesheet</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
        <span class="n">file</span> <span class="o">=</span> <span class="n">QFile</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="n">file</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">QFile</span><span class="o">.</span><span class="n">ReadOnly</span> <span class="o">|</span> <span class="n">QFile</span><span class="o">.</span><span class="n">Text</span><span class="p">)</span>
        <span class="n">stylesheet</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readAll</span><span class="p">()</span>
        <span class="n">QApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">stylesheet</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span></div>

<div class="viewcode-block" id="MainWindow.show"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.show">[docs]</a>    <span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="o">.</span><span class="n">showMaximized</span><span class="p">()</span></div>
        <span class="c1"># self.main_win.show()</span>

<div class="viewcode-block" id="MainWindow.readSettings"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.readSettings">[docs]</a>    <span class="k">def</span> <span class="nf">readSettings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="o">.</span><span class="n">restoreGeometry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;geometry&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="o">.</span><span class="n">restoreState</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;windowState&quot;</span><span class="p">))</span></div>

<div class="viewcode-block" id="MainWindow.closeEvent"><a class="viewcode-back" href="../main_control.html#main_control.MainWindow.closeEvent">[docs]</a>    <span class="k">def</span> <span class="nf">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s2">&quot;geometry&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="o">.</span><span class="n">saveGeometry</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s2">&quot;windowState&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_win</span><span class="o">.</span><span class="n">saveState</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="QPlainTextEditLogger"><a class="viewcode-back" href="../main_control.html#main_control.QPlainTextEditLogger">[docs]</a><span class="k">class</span> <span class="nc">QPlainTextEditLogger</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Handler</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget</span> <span class="o">=</span> <span class="n">QPlainTextEdit</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">setReadOnly</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<div class="viewcode-block" id="QPlainTextEditLogger.emit"><a class="viewcode-back" href="../main_control.html#main_control.QPlainTextEditLogger.emit">[docs]</a>    <span class="k">def</span> <span class="nf">emit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">appendHtml</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="c1"># move scrollbar</span>
        <span class="n">scrollbar</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">verticalScrollBar</span><span class="p">()</span>
        <span class="n">scrollbar</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">scrollbar</span><span class="o">.</span><span class="n">maximum</span><span class="p">())</span></div></div>


<div class="viewcode-block" id="CustomFormatter"><a class="viewcode-back" href="../main_control.html#main_control.CustomFormatter">[docs]</a><span class="k">class</span> <span class="nc">CustomFormatter</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">):</span>
    <span class="n">FORMATS</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;[</span><span class="si">%(levelname)-8s</span><span class="s2">] </span><span class="si">%(message)s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">)),</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;[</span><span class="si">%(levelname)-8s</span><span class="s2">] [</span><span class="si">%(filename)s</span><span class="s2">:</span><span class="si">%(lineno)d</span><span class="s2">] </span><span class="si">%(message)s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">),</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;[</span><span class="si">%(levelname)-8s</span><span class="s2">] </span><span class="si">%(message)s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;#0000FF&quot;</span><span class="p">),</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> - </span><span class="si">%(name)s</span><span class="s1"> - </span><span class="si">%(levelname)s</span><span class="s1"> - </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">QColor</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="p">}</span>

<div class="viewcode-block" id="CustomFormatter.format"><a class="viewcode-back" href="../main_control.html#main_control.CustomFormatter.format">[docs]</a>    <span class="k">def</span> <span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
        <span class="n">last_fmt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">_fmt</span>
        <span class="n">opt</span> <span class="o">=</span> <span class="n">CustomFormatter</span><span class="o">.</span><span class="n">FORMATS</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">record</span><span class="o">.</span><span class="n">levelno</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">opt</span><span class="p">:</span>
            <span class="n">fmt</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">opt</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">_fmt</span> <span class="o">=</span> <span class="s2">&quot;&lt;font color=</span><span class="se">\&quot;</span><span class="si">{}</span><span class="se">\&quot;</span><span class="s2">&gt;</span><span class="si">{}</span><span class="s2">&lt;/font&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="n">color</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">(),</span> <span class="n">fmt</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="o">.</span><span class="n">_fmt</span> <span class="o">=</span> <span class="n">last_fmt</span>
        <span class="k">return</span> <span class="n">res</span></div></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="c1"># # Handle high resolution displays:</span>
    <span class="c1"># if hasattr(QtCore.Qt, &#39;AA_EnableHighDpiScaling&#39;):</span>
    <span class="c1">#     QApplication.setAttribute(QtCore.Qt.AA_EnableHighDpiScaling, True)</span>
    <span class="c1"># if hasattr(QtCore.Qt, &#39;AA_UseHighDpiPixmaps&#39;):</span>
    <span class="c1">#     QApplication.setAttribute(QtCore.Qt.AA_UseHighDpiPixmaps, True)</span>

    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

    <span class="n">main_win</span> <span class="o">=</span> <span class="n">MainWindow</span><span class="p">()</span>

    <span class="n">main_win</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">())</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Sosoho-abasi Udongwo.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>