<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>frame_controls.plot_control &mdash; CavityHub 0.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> CavityHub
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../main_control.html">main_control module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CavityHub</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">frame_controls.plot_control</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for frame_controls.plot_control</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">QtGui</span>
<span class="kn">from</span> <span class="nn">scipy.special</span> <span class="kn">import</span> <span class="n">jn_zeros</span><span class="p">,</span> <span class="n">jnp_zeros</span>
<span class="kn">from</span> <span class="nn">ui_files.plot</span> <span class="kn">import</span> <span class="n">Ui_Plot</span>
<span class="kn">from</span> <span class="nn">ui_files.plottypeselector</span> <span class="kn">import</span> <span class="n">Ui_PlotTypeSelector</span>
<span class="kn">from</span> <span class="nn">modules.plot_module.plotter</span> <span class="kn">import</span> <span class="n">Plot</span>
<span class="kn">from</span> <span class="nn">modules.data_module.abci_data</span> <span class="kn">import</span> <span class="n">ABCIData</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">utils.file_reader</span> <span class="kn">import</span> <span class="n">FileReader</span>
<span class="kn">from</span> <span class="nn">utils.shared_classes</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">utils.shared_functions</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">fr</span> <span class="o">=</span> <span class="n">FileReader</span><span class="p">()</span>

<span class="n">file_color</span> <span class="o">=</span> <span class="s1">&#39;yellow&#39;</span>
<span class="n">DEBUG</span> <span class="o">=</span> <span class="kc">True</span>


<div class="viewcode-block" id="print_"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.print_">[docs]</a><span class="k">def</span> <span class="nf">print_</span><span class="p">(</span><span class="o">*</span><span class="n">arg</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">DEBUG</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">colored</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\t</span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">file_color</span><span class="p">))</span></div>


<div class="viewcode-block" id="PlotControl"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl">[docs]</a><span class="k">class</span> <span class="nc">PlotControl</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Controls plotting</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">):</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Check 1: plot_control.py&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">w_Plot</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">Ui_Plot</span><span class="p">()</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Check 2: plot_control.py&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">w_Plot</span><span class="p">)</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Check 3: plot_control.py&quot;</span><span class="p">)</span>

        <span class="c1"># Create main window object</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">win</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_control</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">main_ui</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">ui</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Check 4: plot_control.py&quot;</span><span class="p">)</span>

        <span class="c1"># get logger</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_control</span><span class="o">.</span><span class="n">log</span>

        <span class="c1"># Plot objects and variables</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plt</span> <span class="o">=</span> <span class="n">Plot</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="p">)</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Check 5: plot_control.py&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gl_Plot_Area</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">fig</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">ax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">ax_right</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axins</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">indicate_inset</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">leg</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Check 6: plot_control.py&quot;</span><span class="p">)</span>

        <span class="c1"># class variables</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plotID_count</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># class lists</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">baseline_line_objects</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Check 7: plot_control.py&quot;</span><span class="p">)</span>

        <span class="c1"># class dictionaries</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># holds the plot information and plot</span>
        <span class="c1"># structure self.pts = {key1: {plot_widget: value, plot: value}}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">f_list_sorted</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mode_list_sorted</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">args_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Code&#39;</span><span class="p">:</span> <span class="p">[],</span>
                          <span class="s1">&#39;Folder&#39;</span><span class="p">:</span> <span class="p">[],</span>
                          <span class="s1">&#39;Polarization&#39;</span><span class="p">:</span> <span class="p">[],</span>
                          <span class="s1">&#39;Id&#39;</span><span class="p">:</span> <span class="p">[],</span>
                          <span class="s1">&#39;Request&#39;</span><span class="p">:</span> <span class="p">[],</span>
                          <span class="s1">&#39;Toggle&#39;</span><span class="p">:</span> <span class="p">[],</span>
                          <span class="s1">&#39;ScaleX&#39;</span><span class="p">:</span> <span class="p">[],</span>
                          <span class="s1">&#39;ScaleY&#39;</span><span class="p">:</span> <span class="p">[],</span>
                          <span class="s1">&#39;Axis&#39;</span><span class="p">:</span> <span class="p">[],</span>
                          <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="p">[],</span>
                          <span class="s1">&#39;Filter&#39;</span><span class="p">:</span> <span class="p">[]</span>
                          <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">args_dict_clone</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">other_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_obj_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># baseline matplotlib line.Line2D objects</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes_decorations_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;xlabel&quot;</span><span class="p">:</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span>
                                      <span class="s2">&quot;ylabel&quot;</span><span class="p">:</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span>
                                      <span class="s2">&quot;ylabel2&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                                      <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Title&quot;</span><span class="p">,</span>
                                      <span class="s2">&quot;legend&quot;</span><span class="p">:</span> <span class="p">[]}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">signals</span><span class="p">()</span>

        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Check 3: plot_control.py&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="PlotControl.createPlotTypeWidget"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.createPlotTypeWidget">[docs]</a>    <span class="k">def</span> <span class="nf">createPlotTypeWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># plottypeselector</span>
        <span class="n">w_PTS</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">PTS</span> <span class="o">=</span> <span class="n">Ui_PlotTypeSelector</span><span class="p">()</span>
        <span class="n">PTS</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="n">w_PTS</span><span class="p">)</span>

        <span class="n">plotID</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotID_count</span>
        <span class="c1"># add plottypse selector to dictionary</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">plotID_count</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;plot data&quot;</span><span class="p">:</span> <span class="p">{},</span> <span class="s2">&quot;plot object&quot;</span><span class="p">:</span> <span class="p">{},</span>
                                            <span class="s2">&quot;plot data inputs&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">init_abci</span><span class="p">(</span><span class="n">PTS</span><span class="p">,</span> <span class="n">plotID</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_slans</span><span class="p">(</span><span class="n">PTS</span><span class="p">,</span> <span class="n">plotID</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init_other</span><span class="p">(</span><span class="n">PTS</span><span class="p">,</span> <span class="n">plotID</span><span class="p">)</span>

        <span class="c1"># add plottypeselector to layout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gl_Plot_Type_Selector</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">w_PTS</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotID_count</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">plotID_count</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PTS</span>

        <span class="c1"># add delete signal to delete buttion</span>
        <span class="n">PTS</span><span class="o">.</span><span class="n">pb_Remove</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_pts</span><span class="p">(</span><span class="n">plotID</span><span class="p">))</span>

        <span class="c1"># add plot signal to switch</span>
        <span class="n">PTS</span><span class="o">.</span><span class="n">switchControl</span><span class="o">.</span><span class="n">stateChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_plot_object</span><span class="p">(</span><span class="n">PTS</span><span class="p">,</span> <span class="n">plotID</span><span class="p">))</span>

        <span class="c1"># increment plotID</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plotID_count</span> <span class="o">+=</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="PlotControl.init_abci"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.init_abci">[docs]</a>    <span class="k">def</span> <span class="nf">init_abci</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">PTS</span><span class="p">,</span> <span class="n">plotID</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param PTS:</span>
<span class="sd">        :param plotID:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># abci</span>
        <span class="n">PTS</span><span class="o">.</span><span class="n">pb_Open_Folder_ABCI</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_abci_data</span><span class="p">(</span><span class="n">PTS</span><span class="p">))</span>
        <span class="n">request_dict_long</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Longitudinal Impedance Magnitude&#39;</span><span class="p">,</span>
                             <span class="mi">1</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Cavity Shape Input&#39;</span><span class="p">,</span>
                             <span class="mi">2</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Cavity Shape Used&#39;</span><span class="p">,</span>
                             <span class="mi">3</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Wake Potentials&#39;</span><span class="p">,</span>
                             <span class="mi">4</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Real Part of Longitudinal Impedance&#39;</span><span class="p">,</span>
                             <span class="mi">5</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Imaginary Part of Longitudinal Impedance&#39;</span><span class="p">,</span>
                             <span class="mi">6</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Frequency Spectrum of Loss Factor&#39;</span><span class="p">,</span>
                             <span class="mi">7</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Loss Factor Spectrum Integrated up to F&#39;</span><span class="p">,</span>
                             <span class="mi">8</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Real Part of Long. + Log Impedance&#39;</span><span class="p">,</span>
                             <span class="mi">9</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Imaginary Part of Long. + Log Impedance&#39;</span><span class="p">,</span>
                             <span class="mi">10</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Spectrum of Long. + Log Loss Factor&#39;</span><span class="p">,</span>
                             <span class="mi">11</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Long. + Log Factor Integrated up to F&#39;</span>
                             <span class="p">}</span>

        <span class="n">request_dict_trans</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Transverse Impedance Magnitude&#39;</span><span class="p">,</span>
                              <span class="mi">1</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Cavity Shape Input&#39;</span><span class="p">,</span>
                              <span class="mi">2</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Cavity Shape Used&#39;</span><span class="p">,</span>
                              <span class="mi">3</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Wake Potentials&#39;</span><span class="p">,</span>
                              <span class="mi">4</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Real Part of Azimuthal Impedance&#39;</span><span class="p">,</span>
                              <span class="mi">5</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Imaginary Part of Azimuthal Impedance&#39;</span><span class="p">,</span>
                              <span class="mi">6</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Real Part of Transverse Impedance&#39;</span><span class="p">,</span>
                              <span class="mi">7</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Imaginary Part of Transverse Impedance&#39;</span><span class="p">,</span>
                              <span class="mi">8</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Real Part of Longitudinal Impedance&#39;</span><span class="p">,</span>
                              <span class="mi">9</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Imaginary Part of Longitudinal Impedance&#39;</span>
                              <span class="p">}</span>

        <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="n">request_dict_long</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">PTS</span><span class="o">.</span><span class="n">cb_Request_ABCI</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>

        <span class="n">PTS</span><span class="o">.</span><span class="n">cb_Polarization_ABCI</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">switchRequest</span><span class="p">(</span><span class="n">PTS</span><span class="o">.</span><span class="n">cb_Request_ABCI</span><span class="p">,</span> <span class="n">request_dict_long</span><span class="p">,</span> <span class="n">request_dict_trans</span><span class="p">,</span>
                                       <span class="n">PTS</span><span class="o">.</span><span class="n">cb_Polarization_ABCI</span><span class="p">))</span>

        <span class="n">type_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Line&#39;</span><span class="p">,</span> <span class="s1">&#39;Scatter&#39;</span><span class="p">,</span> <span class="s1">&#39;Bar&#39;</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">type_list</span><span class="p">:</span>
            <span class="n">PTS</span><span class="o">.</span><span class="n">cb_Type_ABCI</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

        <span class="n">line_style</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="s1">&#39;-.&#39;</span><span class="p">]</span>
        <span class="n">scatter_marker</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">]</span>
        <span class="c1"># fill default</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">line_style</span><span class="p">:</span>
            <span class="n">PTS</span><span class="o">.</span><span class="n">cb_Style_ABCI</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

        <span class="c1"># signal for combobox</span>
        <span class="n">PTS</span><span class="o">.</span><span class="n">cb_Type_ABCI</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">populate_combobox_list</span><span class="p">(</span><span class="n">PTS</span><span class="o">.</span><span class="n">cb_Style_ABCI</span><span class="p">,</span> <span class="n">line_style</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">PTS</span><span class="o">.</span><span class="n">cb_Type_ABCI</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Line&quot;</span>
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">populate_combobox_list</span><span class="p">(</span><span class="n">PTS</span><span class="o">.</span><span class="n">cb_Style_ABCI</span><span class="p">,</span> <span class="n">scatter_marker</span><span class="p">))</span></div>

<div class="viewcode-block" id="PlotControl.init_slans"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.init_slans">[docs]</a>    <span class="k">def</span> <span class="nf">init_slans</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">PTS</span><span class="p">,</span> <span class="n">plotID</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param PTS:</span>
<span class="sd">        :param plotID:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># slans</span>
        <span class="n">PTS</span><span class="o">.</span><span class="n">pb_Open_Folder_SLANS</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_</span><span class="p">(</span><span class="n">PTS</span><span class="o">.</span><span class="n">le_Folder_SLANS</span><span class="p">,</span> <span class="n">PTS</span><span class="o">.</span><span class="n">cb_Polarization_SLANS</span><span class="p">,</span> <span class="n">PTS</span><span class="o">.</span><span class="n">ccb_Shape_ID_SLANS</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;Folder&#39;</span><span class="p">))</span></div>

<div class="viewcode-block" id="PlotControl.init_other"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.init_other">[docs]</a>    <span class="k">def</span> <span class="nf">init_other</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">PTS</span><span class="p">,</span> <span class="n">plotID</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param PTS:</span>
<span class="sd">        :param plotID:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># other</span>
        <span class="n">PTS</span><span class="o">.</span><span class="n">pb_Open_File_Other</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_</span><span class="p">(</span><span class="n">PTS</span><span class="o">.</span><span class="n">le_Filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;File&#39;</span><span class="p">))</span>
        <span class="n">PTS</span><span class="o">.</span><span class="n">le_Filename</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">populate_combobox_new</span><span class="p">([</span><span class="n">PTS</span><span class="o">.</span><span class="n">ccb_Id_Other</span><span class="p">,</span> <span class="n">PTS</span><span class="o">.</span><span class="n">cb_X</span><span class="p">,</span> <span class="n">PTS</span><span class="o">.</span><span class="n">ccb_Y</span><span class="p">,</span> <span class="n">PTS</span><span class="o">.</span><span class="n">ccb_Filter_Other</span><span class="p">],</span>
                                               <span class="n">PTS</span><span class="o">.</span><span class="n">le_Filename</span><span class="o">.</span><span class="n">text</span><span class="p">(),</span> <span class="n">plotID</span><span class="p">))</span></div>

<div class="viewcode-block" id="PlotControl.make_abci_data"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.make_abci_data">[docs]</a>    <span class="k">def</span> <span class="nf">make_abci_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">PTS</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param PTS:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">open_</span><span class="p">(</span><span class="n">PTS</span><span class="o">.</span><span class="n">le_Folder_ABCI</span><span class="p">,</span> <span class="n">PTS</span><span class="o">.</span><span class="n">cb_Polarization_ABCI</span><span class="p">,</span> <span class="n">PTS</span><span class="o">.</span><span class="n">ccb_Id_ABCI</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;Folder&#39;</span><span class="p">)</span></div>

        <span class="c1"># abci data is not made on opening because it would be memory consuming to load all simulation results</span>
        <span class="c1"># for this reason, the data is made when the plot function is called</span>

<div class="viewcode-block" id="PlotControl.make_slans_data"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.make_slans_data">[docs]</a>    <span class="k">def</span> <span class="nf">make_slans_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">PTS</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="PlotControl.make_other_data"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.make_other_data">[docs]</a>    <span class="k">def</span> <span class="nf">make_other_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">PTS</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="PlotControl.make_plot_object"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.make_plot_object">[docs]</a>    <span class="k">def</span> <span class="nf">make_plot_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">PTS</span><span class="p">,</span> <span class="n">plotID</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param PTS:</span>
<span class="sd">        :param plotID:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">PTS</span><span class="o">.</span><span class="n">cb_code</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;abci&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_abci_plot_object</span><span class="p">(</span><span class="n">plotID</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">PTS</span><span class="o">.</span><span class="n">cb_code</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;slans&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_slans_plot_object</span><span class="p">(</span><span class="n">plotID</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">make_other_plot_object</span><span class="p">(</span><span class="n">plotID</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.remove_pts"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.remove_pts">[docs]</a>    <span class="k">def</span> <span class="nf">remove_pts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s1">&#39;plot object&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">line2D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">pb_Remove</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">pid</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_labels</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.make_abci_plot_object"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.make_abci_plot_object">[docs]</a>    <span class="k">def</span> <span class="nf">make_abci_plot_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">):</span>
        <span class="c1"># check state of switch</span>
        <span class="n">switch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">switchControl</span>
        <span class="n">plottype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cb_code</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">switch</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>

            <span class="c1"># check if plot already exist</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s1">&#39;plot data&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="p">{}:</span>
                <span class="c1"># compare plot input with current input</span>
                <span class="n">inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span>
                <span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">ccb_Id</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>  <span class="c1"># get list</span>
                <span class="n">pol</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">cb_Pol</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                <span class="n">request</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">cb_Request</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

                <span class="n">plot_data_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data inputs&quot;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">plot_data_inputs</span><span class="p">[</span><span class="s2">&quot;ids&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">ids</span> <span class="ow">and</span> <span class="n">plot_data_inputs</span><span class="p">[</span><span class="s2">&quot;pol&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">pol</span> <span class="ow">and</span> <span class="n">plot_data_inputs</span><span class="p">[</span>
                    <span class="s2">&quot;request&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">request</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="p">{}:</span>
                        <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s1">&#39;plot object&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                            <span class="n">line2D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># plot with modified inputs</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">plot_impedance_pts</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># pop previous entry from plot and dictionary</span>
                    <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s1">&#39;plot object&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                        <span class="n">line2D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

                    <span class="c1"># reset plot data, plot object and plot data inputs</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data inputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_impedance_pts</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">])</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># self.ax.clear()</span>
                <span class="c1"># make plot</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">plot_impedance_pts</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">])</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s1">&#39;plot object&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">line2D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_prop_cycle</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">cycle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">_get_lines</span><span class="o">.</span><span class="n">prop_cycler</span>

        <span class="c1"># update colors, loop over all lines and give color in ascending order</span>
        <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
            <span class="n">line2D</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">cycle</span><span class="p">)[</span><span class="s1">&#39;color&#39;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_labels</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.make_slans_plot_object"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.make_slans_plot_object">[docs]</a>    <span class="k">def</span> <span class="nf">make_slans_plot_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">):</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="PlotControl.make_other_plot_object"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.make_other_plot_object">[docs]</a>    <span class="k">def</span> <span class="nf">make_other_plot_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_other_new</span><span class="p">(</span><span class="n">pid</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.plot_impedance_pts"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.plot_impedance_pts">[docs]</a>    <span class="k">def</span> <span class="nf">plot_impedance_pts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pts_</span><span class="p">):</span>
        <span class="n">inputs</span> <span class="o">=</span> <span class="n">pts_</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">inputs</span><span class="o">.</span><span class="n">ccb_Id</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>  <span class="c1"># get list</span>
        <span class="n">pol</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">cb_Pol</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">request</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">cb_Request</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">folder</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">le_Folder</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">axis</span> <span class="o">=</span> <span class="n">inputs</span><span class="o">.</span><span class="n">cb_Axis</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">scaleX</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">inputs</span><span class="o">.</span><span class="n">le_ScaleY</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
            <span class="n">scaleY</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">inputs</span><span class="o">.</span><span class="n">le_ScaleY</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="n">scaleX</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">scaleY</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">folder</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">abci_data_dir</span> <span class="o">=</span> <span class="sa">fr</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">main_control</span><span class="o">.</span><span class="n">projectDir</span><span class="si">}</span><span class="s1">/SimulationData/ABCI&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">abci_data_dir</span> <span class="o">=</span> <span class="n">folder</span>

        <span class="c1"># update data input</span>
        <span class="n">pts_</span><span class="p">[</span><span class="s2">&quot;plot data inputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">,</span> <span class="s2">&quot;pol&quot;</span><span class="p">:</span> <span class="n">pol</span><span class="p">,</span> <span class="s2">&quot;request&quot;</span><span class="p">:</span> <span class="n">request</span><span class="p">}</span>

        <span class="c1"># plot for multiple ids</span>
        <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">pol</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;long&#39;</span><span class="p">:</span>
                <span class="n">abci_data_long</span> <span class="o">=</span> <span class="n">ABCIData</span><span class="p">(</span><span class="n">abci_data_dir</span><span class="p">,</span> <span class="n">id_</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">request</span> <span class="o">==</span> <span class="s1">&#39;Longitudinal Impedance Magnitude&#39;</span><span class="p">:</span>
                    <span class="n">xr</span><span class="p">,</span> <span class="n">yr</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_long</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;Real Part of Longitudinal Impedance&#39;</span><span class="p">)</span>
                    <span class="n">xi</span><span class="p">,</span> <span class="n">yi</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_long</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;Imaginary Part of Longitudinal Impedance&#39;</span><span class="p">)</span>

                    <span class="n">y</span> <span class="o">=</span> <span class="p">[(</span><span class="n">a</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">b</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">yr</span><span class="p">,</span> <span class="n">yi</span><span class="p">)]</span>

                    <span class="c1"># scale x axis]</span>
                    <span class="n">xr</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">xr</span><span class="p">]</span>
                    <span class="c1"># scale y axis]</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">y</span><span class="p">]</span>

                    <span class="c1"># set global frequency only if the impedance magnitude is requested</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span> <span class="o">=</span> <span class="n">xr</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">xr</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_long</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

                    <span class="c1"># scale x axis]</span>
                    <span class="n">xr</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">xr</span><span class="p">]</span>
                    <span class="c1"># scale y axis]</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">y</span><span class="p">]</span>

                    <span class="c1"># reset global frequency if the impedance magnitude is not requested</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span> <span class="o">=</span> <span class="p">[]</span>

                <span class="c1"># plot</span>
                <span class="n">ax_selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span>
                <span class="k">if</span> <span class="n">axis</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
                    <span class="n">ax_selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span>
                    <span class="c1"># update plot data</span>
                    <span class="n">pts_</span><span class="p">[</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">id_</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">xr</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}})</span>
                    <span class="c1"># process id</span>
                    <span class="n">pts_</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">id_</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xr</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span>
                                                                  <span class="n">label</span><span class="o">=</span><span class="s1">&#39;${&#39;</span> <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">id_</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;}$&#39;</span> <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39; (</span><span class="si">{</span><span class="n">abci_data_long</span><span class="o">.</span><span class="n">wakelength</span><span class="si">}</span><span class="s1"> m)&#39;</span><span class="p">,</span>
                                                                  <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)})</span>

                <span class="k">elif</span> <span class="n">axis</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;right&quot;</span><span class="p">:</span>
                    <span class="n">ax_selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span>
                    <span class="c1"># update plot data</span>
                    <span class="n">pts_</span><span class="p">[</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">id_</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">xr</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}})</span>
                    <span class="c1"># process id</span>
                    <span class="n">pts_</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">id_</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xr</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span>
                                                                        <span class="n">label</span><span class="o">=</span><span class="s1">&#39;${&#39;</span> <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">id_</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;}$&#39;</span> <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39; (</span><span class="si">{</span><span class="n">abci_data_long</span><span class="o">.</span><span class="n">wakelength</span><span class="si">}</span><span class="s1"> m)&#39;</span><span class="p">,</span>
                                                                        <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)})</span>

                <span class="c1"># ax_selected.set_xlabel(&#39;$f \mathrm{ [GHz]}$&#39;)</span>
                <span class="c1"># ax_selected.set_ylabel(&#39;$Z_{\parallel, \mathrm{HOM}} \mathrm{[k\Omega]}$&#39;)</span>
                <span class="n">ax_selected</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
                <span class="n">ax_selected</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
                <span class="n">ax_selected</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">xr</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">xr</span><span class="p">))</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">abci_data_trans</span> <span class="o">=</span> <span class="n">ABCIData</span><span class="p">(</span><span class="n">abci_data_dir</span><span class="p">,</span> <span class="n">id_</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">request</span> <span class="o">==</span> <span class="s1">&#39;Transverse Impedance Magnitude&#39;</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">xr</span><span class="p">,</span> <span class="n">yr</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_trans</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;Real Part of Transverse Impedance&#39;</span><span class="p">)</span>
                        <span class="n">xi</span><span class="p">,</span> <span class="n">yi</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_trans</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;Imaginary Part of Transverse Impedance&#39;</span><span class="p">)</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="n">xr</span><span class="p">,</span> <span class="n">yr</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_trans</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;Real Part of Azimuthal Impedance&#39;</span><span class="p">)</span>
                        <span class="n">xi</span><span class="p">,</span> <span class="n">yi</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_trans</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;Imaginary Part of Azimuthal Impedance&#39;</span><span class="p">)</span>

                    <span class="n">y</span> <span class="o">=</span> <span class="p">[(</span><span class="n">a</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">b</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">yr</span><span class="p">,</span> <span class="n">yi</span><span class="p">)]</span>

                    <span class="c1"># scale x axis]</span>
                    <span class="n">xr</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">xr</span><span class="p">]</span>
                    <span class="c1"># scale y axis]</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">y</span><span class="p">]</span>

                    <span class="c1"># set global frequency only if the impedance magnitude is requested</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span> <span class="o">=</span> <span class="n">xr</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">xr</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_trans</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

                    <span class="c1"># scale x axis]</span>
                    <span class="n">xr</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">xr</span><span class="p">]</span>
                    <span class="c1"># scale y axis]</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">y</span><span class="p">]</span>

                    <span class="c1"># reset global frequency if the impedance magnitude is not requested</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span> <span class="o">=</span> <span class="p">[]</span>

                <span class="c1"># plot</span>
                <span class="n">ax_selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span>
                <span class="k">if</span> <span class="n">axis</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
                    <span class="n">ax_selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span>
                    <span class="c1"># update plot data</span>
                    <span class="n">pts_</span><span class="p">[</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">id_</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">xr</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}})</span>
                    <span class="c1"># process id</span>
                    <span class="n">pts_</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">id_</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xr</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span>
                                                                  <span class="n">label</span><span class="o">=</span><span class="s1">&#39;${&#39;</span> <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">id_</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;}$&#39;</span> <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39; (</span><span class="si">{</span><span class="n">abci_data_trans</span><span class="o">.</span><span class="n">wakelength</span><span class="si">}</span><span class="s1"> m)&#39;</span><span class="p">,</span>
                                                                  <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)})</span>

                <span class="k">elif</span> <span class="n">axis</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
                    <span class="n">ax_selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span>
                    <span class="c1"># update plot data</span>
                    <span class="n">pts_</span><span class="p">[</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">id_</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">xr</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}})</span>
                    <span class="c1"># process id</span>
                    <span class="n">pts_</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">id_</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xr</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span>
                                                                        <span class="n">label</span><span class="o">=</span><span class="s1">&#39;${&#39;</span> <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">id_</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;}$&#39;</span> <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39; (</span><span class="si">{</span><span class="n">abci_data_trans</span><span class="o">.</span><span class="n">wakelength</span><span class="si">}</span><span class="s1"> m)&#39;</span><span class="p">,</span>
                                                                        <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)})</span>

                <span class="n">ax_selected</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
                <span class="n">ax_selected</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
                <span class="n">ax_selected</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">xr</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">xr</span><span class="p">))</span></div>

<div class="viewcode-block" id="PlotControl.signals"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.signals">[docs]</a>    <span class="k">def</span> <span class="nf">signals</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Add</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">createPlotTypeWidget</span><span class="p">())</span>

        <span class="c1"># plot abci impedance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Plot</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot</span><span class="p">())</span>

        <span class="c1"># refresh plot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Refresh</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot</span><span class="p">())</span>

        <span class="c1"># toggle plot menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Plot_Area_Menu</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">main_control</span><span class="o">.</span><span class="n">animate_width</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">w_Plot_Menu</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">440</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Plot_Area_Menu</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">w_Plot_Area_Buttons</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span>
            <span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">w_Plot_Menu</span><span class="o">.</span><span class="n">maximumWidth</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">w_Plot_Area_Buttons</span><span class="o">.</span><span class="n">setDisabled</span><span class="p">(</span><span class="kc">True</span><span class="p">))</span>

        <span class="c1"># signal for plot menu pages</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Machine_Parameters</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggle_page</span><span class="p">(</span><span class="s1">&#39;Machine Parameters&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Plot_Decorations</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggle_page</span><span class="p">(</span><span class="s1">&#39;Plot Decorations&#39;</span><span class="p">))</span>

        <span class="c1"># signal for plot argument entrmake widgets rey</span>
        <span class="c1"># self.ui.pb_Collapse_Shape_Parameters.clicked.connect(lambda: self.main_control.animate_height(self.ui.w_Plot_Args, 0, 200, True))</span>

        <span class="c1"># signal for threshold</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Longitudinal_Threshold</span><span class="o">.</span><span class="n">stateChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">calc_limits</span><span class="p">(</span><span class="s1">&#39;monopole&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Transverse_Threshold</span><span class="o">.</span><span class="n">stateChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">calc_limits</span><span class="p">(</span><span class="s1">&#39;dipole&#39;</span><span class="p">))</span>

        <span class="c1"># signal for inset plot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Show_Hide_Inset</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_inset</span><span class="p">())</span>

        <span class="c1"># add plot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Add_Row</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">add_row</span><span class="p">)</span>
        <span class="c1"># clear plots</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Clear</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">clear_plots</span><span class="p">())</span>

        <span class="c1"># signals for cutoff</span>
        <span class="c1"># self.ui.cb_Check_1.clicked.connect(lambda: self.plot_cutoff(0, self.ui.cb_Check_1))</span>
        <span class="c1"># self.ui.cb_Check_2.clicked.connect(lambda: self.plot_cutoff(1, self.ui.cb_Check_2))</span>
        <span class="c1"># self.ui.cb_Check_3.clicked.connect(lambda: self.plot_cutoff(2, self.ui.cb_Check_1))</span>

        <span class="c1"># update label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Apply_Axis_Labels</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_labels</span><span class="p">())</span>

        <span class="c1"># plot text</span>
        <span class="c1"># x, y = self.plt.ax.get_xlim()[1]/2, self.plt.ax.get_ylim()[1]/2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Add_Textt</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">add_text</span><span class="p">(</span>
            <span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Plot_Text_2</span><span class="o">.</span><span class="n">text</span><span class="p">(),</span> <span class="n">box</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Text_Box</span><span class="o">.</span><span class="n">currentText</span><span class="p">(),</span>
            <span class="n">size</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_Annotation_Text_Size</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span> <span class="n">rotation</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_Rotation</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span>
            <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;axes fraction&#39;</span><span class="p">))</span>

        <span class="c1"># plot axvline</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">pb_Add_Vline</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">add_axvline</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">dsb_Axvline_X</span><span class="o">.</span><span class="n">value</span><span class="p">()))</span>

        <span class="c1"># switch axis</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Active_Axis</span><span class="o">.</span><span class="n">currentTextChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">switch_axis</span><span class="p">())</span>

        <span class="c1"># frequently used plot labels combobox signal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ccb_Freq_Used_Xlabel</span><span class="o">.</span><span class="n">currentTextChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Xlabel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ccb_Freq_Used_Xlabel</span><span class="o">.</span><span class="n">currentText</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ccb_Freq_Used_Ylabel</span><span class="o">.</span><span class="n">currentTextChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Ylabel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">ccb_Freq_Used_Ylabel</span><span class="o">.</span><span class="n">currentText</span><span class="p">()))</span></div>

<div class="viewcode-block" id="PlotControl.initUI"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.initUI">[docs]</a>    <span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">createPlotTypeWidget</span><span class="p">()</span>

        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Check 5: plot_control.py&quot;</span><span class="p">)</span>
        <span class="c1"># add row to table</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># and one row in the table</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_control</span><span class="p">()</span>

        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Check 5: plot_control.py&quot;</span><span class="p">)</span>
        <span class="c1"># set plot menu initial size to zero and disable plot buttons</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">w_Plot_Menu</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">w_Plot_Area_Buttons</span><span class="o">.</span><span class="n">setDisabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Check 5: plot_control.py&quot;</span><span class="p">)</span>
        <span class="c1"># tableWidget initializations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">mousePressEvent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mousePressEvent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setContextMenuPolicy</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">CustomContextMenu</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">customContextMenuRequested</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">generateMenu</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_table_size</span><span class="p">()</span>

        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Check 5: plot_control.py&quot;</span><span class="p">)</span>
        <span class="c1"># add checkable combobox</span>
        <span class="n">cutoff</span> <span class="o">=</span> <span class="n">QCheckableComboBox</span><span class="p">()</span>
        <span class="n">cutoff</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s2">&quot;All&quot;</span><span class="p">)</span>
        <span class="n">cutoff</span><span class="o">.</span><span class="n">setMinimumWidth</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">gl_Cutoff</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">cutoff</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">populate_cutoff_combobox</span><span class="p">(</span><span class="n">cutoff</span><span class="p">)</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Check 5: plot_control.py&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Ri_Cutoff_List</span><span class="o">.</span><span class="n">editingFinished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">populate_cutoff_combobox</span><span class="p">(</span><span class="n">cutoff</span><span class="p">))</span>

        <span class="c1"># add signal</span>
        <span class="n">cutoff</span><span class="o">.</span><span class="n">currentTextChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_cutoff</span><span class="p">(</span><span class="n">cutoff</span><span class="p">))</span></div>

<div class="viewcode-block" id="PlotControl.plot"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.plot">[docs]</a>    <span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># args = list(self.args_dict.values())</span>

            <span class="c1"># use same color cycler for both axes</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">_get_lines</span><span class="o">.</span><span class="n">prop_cycler</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">_get_lines</span><span class="o">.</span><span class="n">prop_cycler</span>
            <span class="n">plot_count</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">code</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;plot inputs&#39;</span><span class="p">][</span><span class="s1">&#39;Code&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                <span class="c1"># check plot type</span>
                <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="s1">&#39;ABCI&#39;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">make_abci_plot</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="c1"># self.plot_impedance(self.args_dict, i, plot_count)</span>
                <span class="k">elif</span> <span class="n">code</span> <span class="o">==</span> <span class="s1">&#39;SLANS&#39;</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">make_other_plot</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

            <span class="c1"># toggle axis labels</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">toggle_axis_labels</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>

            <span class="c1"># recompute the ax.datalim</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">relim</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">relim</span><span class="p">()</span>

            <span class="c1"># show legend</span>
            <span class="n">lines</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
            <span class="n">lines2</span><span class="p">,</span> <span class="n">labels2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Active_Axis</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Left&#39;</span><span class="p">:</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">Inside here to plot legend on left axis&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">leg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">lines</span> <span class="o">+</span> <span class="n">lines2</span><span class="p">,</span> <span class="n">labels</span> <span class="o">+</span> <span class="n">labels2</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower left&#39;</span><span class="p">,</span> <span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">})</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">leg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">lines</span> <span class="o">+</span> <span class="n">lines2</span><span class="p">,</span> <span class="n">labels</span> <span class="o">+</span> <span class="n">labels2</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower left&#39;</span><span class="p">,</span> <span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">})</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">leg</span><span class="o">.</span><span class="n">set_zorder</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">leg</span><span class="o">.</span><span class="n">set_draggable</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_blit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="c1"># plot inset if check box is checked</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plot_inset</span><span class="p">()</span>
            <span class="c1"># self.fig.canvas.draw_idle()</span>

            <span class="c1"># plot thresholds if threshold is checked</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Longitudinal_Threshold</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">calc_limits</span><span class="p">(</span><span class="s1">&#39;monopole&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Transverse_Threshold</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">calc_limits</span><span class="p">(</span><span class="s1">&#39;dipole&#39;</span><span class="p">)</span>

            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;it at the very very least got herer&quot;</span><span class="p">)</span>
            <span class="c1"># self.switch_axis()</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Please enter a valid argument: Exception: &quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.clear_plots"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.clear_plots">[docs]</a>    <span class="k">def</span> <span class="nf">clear_plots</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">axins</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axins</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># reset plot dict</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># clear annotations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

        <span class="c1"># clear cutoff frequency lines</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_obj_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">del</span> <span class="n">val</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax_obj_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">flush_events</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.switch_axis"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.switch_axis">[docs]</a>    <span class="k">def</span> <span class="nf">switch_axis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># change order of appearance of axis</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Active_Axis</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Left&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">set_zorder</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_zorder</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># turn at least one frame on, the axis with zorder = 0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_zorder</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">set_zorder</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

            <span class="c1"># turn at least one frame on, the axis with zorder = 0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_labels</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.plot_impedance"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.plot_impedance">[docs]</a>    <span class="k">def</span> <span class="nf">plot_impedance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot_dict</span><span class="p">):</span>  <span class="c1"># , i, plot_count</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param plot_dict:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">plot_dict</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>  <span class="c1"># get list</span>
        <span class="n">pol</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Polarization&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">request</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Request&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">folder</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Folder&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Toggle&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span>
        <span class="n">axis</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Axis&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">type_</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Type&#39;</span><span class="p">]</span>
        <span class="n">type_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
        <span class="n">type_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>

        <span class="n">filter_</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Filter&#39;</span><span class="p">]</span>
        <span class="n">filter_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
        <span class="n">filter_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>

        <span class="c1"># try:</span>
        <span class="n">scaleX</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;ScaleX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
        <span class="n">scaleY</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;ScaleY&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
        <span class="c1"># except:</span>
        <span class="c1">#     scaleX = 1</span>
        <span class="c1">#     scaleY = 1</span>

        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;hwere 333wwsdfwerwe&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">folder</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">abci_data_dir</span> <span class="o">=</span> <span class="sa">fr</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">main_control</span><span class="o">.</span><span class="n">projectDir</span><span class="si">}</span><span class="s1">/SimulationData/ABCI&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">abci_data_dir</span> <span class="o">=</span> <span class="n">folder</span>

        <span class="c1"># record data input</span>
        <span class="n">plot_dict</span><span class="p">[</span><span class="s2">&quot;plot data inputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">,</span> <span class="s2">&quot;Polarization&quot;</span><span class="p">:</span> <span class="n">pol</span><span class="p">,</span> <span class="s2">&quot;Request&quot;</span><span class="p">:</span> <span class="n">request</span><span class="p">,</span> <span class="s2">&quot;Folder&quot;</span><span class="p">:</span> <span class="n">folder</span><span class="p">,</span>
                                         <span class="s2">&quot;Axis&quot;</span><span class="p">:</span> <span class="n">axis</span><span class="p">,</span> <span class="s2">&quot;ScaleX&quot;</span><span class="p">:</span> <span class="n">scaleX</span><span class="p">,</span> <span class="s2">&quot;ScaleY&quot;</span><span class="p">:</span> <span class="n">scaleY</span><span class="p">,</span> <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="n">type_</span><span class="p">,</span>
                                         <span class="s2">&quot;Filter&quot;</span><span class="p">:</span> <span class="n">filter_</span><span class="p">}</span>

        <span class="c1"># plot for multiple ids</span>
        <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">pol</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;long&#39;</span><span class="p">:</span>
                <span class="n">abci_data_long</span> <span class="o">=</span> <span class="n">ABCIData</span><span class="p">(</span><span class="n">abci_data_dir</span><span class="p">,</span> <span class="n">id_</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">request</span> <span class="o">==</span> <span class="s1">&#39;Longitudinal Impedance Magnitude&#39;</span><span class="p">:</span>
                    <span class="n">xr</span><span class="p">,</span> <span class="n">yr</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_long</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;Real Part of Longitudinal Impedance&#39;</span><span class="p">)</span>
                    <span class="n">xi</span><span class="p">,</span> <span class="n">yi</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_long</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;Imaginary Part of Longitudinal Impedance&#39;</span><span class="p">)</span>

                    <span class="n">y</span> <span class="o">=</span> <span class="p">[(</span><span class="n">a</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">b</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">yr</span><span class="p">,</span> <span class="n">yi</span><span class="p">)]</span>

                    <span class="c1"># scale x axis]</span>
                    <span class="n">xr</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">xr</span><span class="p">]</span>
                    <span class="c1"># scale y axis]</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">y</span><span class="p">]</span>

                    <span class="c1"># set global frequency only if the impedance magnitude is requested</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span> <span class="o">=</span> <span class="n">xr</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">xr</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_long</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

                    <span class="c1"># scale x axis]</span>
                    <span class="n">xr</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">xr</span><span class="p">]</span>
                    <span class="c1"># scale y axis]</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">y</span><span class="p">]</span>

                    <span class="c1"># reset global frequency if the impedance magnitude is not requested</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span> <span class="o">=</span> <span class="p">[]</span>

                <span class="c1"># plot</span>
                <span class="n">ax_selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span>
                <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="s1">&#39;Left&#39;</span><span class="p">:</span>
                    <span class="n">ax_selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span>

                    <span class="c1"># update plot data</span>
                    <span class="n">plot_dict</span><span class="p">[</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">id_</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">xr</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}})</span>

                    <span class="c1"># # process id</span>
                    <span class="c1"># self.ax.plot(xr, y, label=&#39;${&#39; + f&#39;{str(id_).replace(&quot;_&quot;, &quot;,&quot;)}&#39; + &#39;}$&#39; +</span>
                    <span class="c1"># f&#39; ({abci_data_long.wakelength} m)&#39;, linewidth=2)</span>
                    <span class="c1"># process id</span>
                    <span class="n">plot_dict</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                        <span class="n">id_</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xr</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;${&#39;</span> <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">id_</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;}$&#39;</span> <span class="o">+</span>
                                                       <span class="sa">f</span><span class="s1">&#39; (</span><span class="si">{</span><span class="n">abci_data_long</span><span class="o">.</span><span class="n">wakelength</span><span class="si">}</span><span class="s1"> m)&#39;</span><span class="p">,</span>
                                          <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">picker</span><span class="o">=</span><span class="kc">True</span><span class="p">)})</span>
                    <span class="c1"># mplcursors.cursor(plot_dict[&quot;plot object&quot;][id_])</span>

                <span class="k">elif</span> <span class="n">axis</span> <span class="o">==</span> <span class="s2">&quot;Right&quot;</span><span class="p">:</span>
                    <span class="n">ax_selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span>
                    <span class="c1"># self.ax_right.plot(xr, y,</span>
                    <span class="c1">#                    label=&#39;${&#39; + f&#39;{str(id_).replace(&quot;_&quot;, &quot;,&quot;)}&#39; + &#39;}$&#39; +</span>
                    <span class="c1">#                    f&#39; ({abci_data_long.wakelength} m)&#39;,</span>
                    <span class="c1">#                    linewidth=2)</span>
                    <span class="c1"># update plot data</span>
                    <span class="n">plot_dict</span><span class="p">[</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">id_</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">xr</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}})</span>
                    <span class="c1"># process id</span>
                    <span class="n">plot_dict</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                        <span class="n">id_</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xr</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;${&#39;</span> <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">id_</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;}$&#39;</span> <span class="o">+</span>
                                                             <span class="sa">f</span><span class="s1">&#39; (</span><span class="si">{</span><span class="n">abci_data_long</span><span class="o">.</span><span class="n">wakelength</span><span class="si">}</span><span class="s1"> m)&#39;</span><span class="p">,</span>
                                                <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">picker</span><span class="o">=</span><span class="kc">True</span><span class="p">)})</span>
                    <span class="c1"># mplcursors.cursor(plot_dict[&quot;plot object&quot;][id_])</span>

                <span class="c1"># ax_selected.set_xlabel(&#39;$f \mathrm{ [GHz]}$&#39;)</span>
                <span class="c1"># ax_selected.set_ylabel(&#39;$Z_{\parallel, \mathrm{HOM}} \mathrm{[k\Omega]}$&#39;)</span>
                <span class="n">ax_selected</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
                <span class="n">ax_selected</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
                <span class="n">ax_selected</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">xr</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">xr</span><span class="p">))</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">abci_data_trans</span> <span class="o">=</span> <span class="n">ABCIData</span><span class="p">(</span><span class="n">abci_data_dir</span><span class="p">,</span> <span class="n">id_</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">request</span> <span class="o">==</span> <span class="s1">&#39;Transverse Impedance Magnitude&#39;</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">xr</span><span class="p">,</span> <span class="n">yr</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_trans</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;Real Part of Transverse Impedance&#39;</span><span class="p">)</span>
                        <span class="n">xi</span><span class="p">,</span> <span class="n">yi</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_trans</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;Imaginary Part of Transverse Impedance&#39;</span><span class="p">)</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="n">xr</span><span class="p">,</span> <span class="n">yr</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_trans</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;Real Part of Azimuthal Impedance&#39;</span><span class="p">)</span>
                        <span class="n">xi</span><span class="p">,</span> <span class="n">yi</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_trans</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="s1">&#39;Imaginary Part of Azimuthal Impedance&#39;</span><span class="p">)</span>

                    <span class="n">y</span> <span class="o">=</span> <span class="p">[(</span><span class="n">a</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">b</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">yr</span><span class="p">,</span> <span class="n">yi</span><span class="p">)]</span>

                    <span class="c1"># scale x axis]</span>
                    <span class="n">xr</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">xr</span><span class="p">]</span>
                    <span class="c1"># scale y axis]</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">y</span><span class="p">]</span>

                    <span class="c1"># set global frequency only if the impedance magnitude is requested</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span> <span class="o">=</span> <span class="n">xr</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">xr</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">abci_data_trans</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

                    <span class="c1"># scale x axis]</span>
                    <span class="n">xr</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">xr</span><span class="p">]</span>
                    <span class="c1"># scale y axis]</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">y</span><span class="p">]</span>

                    <span class="c1"># reset global frequency if the impedance magnitude is not requested</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span> <span class="o">=</span> <span class="p">[]</span>

                <span class="c1"># plot</span>
                <span class="n">ax_selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span>
                <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="s1">&#39;Left&#39;</span><span class="p">:</span>
                    <span class="n">ax_selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span>
                    <span class="c1"># self.ax.plot(xr, y, label=&#39;${&#39; + f&#39;{str(id_).replace(&quot;_&quot;, &quot;,&quot;)}&#39; + &#39;}$&#39; +</span>
                    <span class="c1"># f&#39; ({abci_data_trans.wakelength} m)&#39;, linewidth=2)</span>
                    <span class="c1"># update plot data</span>
                    <span class="n">plot_dict</span><span class="p">[</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">id_</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">xr</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}})</span>
                    <span class="c1"># process id</span>
                    <span class="n">plot_dict</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                        <span class="n">id_</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xr</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;${&#39;</span> <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">id_</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;}$&#39;</span> <span class="o">+</span>
                                                       <span class="sa">f</span><span class="s1">&#39; (</span><span class="si">{</span><span class="n">abci_data_trans</span><span class="o">.</span><span class="n">wakelength</span><span class="si">}</span><span class="s1"> m)&#39;</span><span class="p">,</span>
                                          <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">picker</span><span class="o">=</span><span class="kc">True</span><span class="p">)})</span>
                    <span class="c1"># mplcursors.cursor(plot_dict[&quot;plot object&quot;][id_])</span>
                <span class="k">elif</span> <span class="n">axis</span> <span class="o">==</span> <span class="s1">&#39;Right&#39;</span><span class="p">:</span>
                    <span class="n">ax_selected</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span>
                    <span class="c1"># self.ax_right.plot(xr, y, label=&#39;${&#39; + f&#39;{str(id_).replace(&quot;_&quot;, &quot;,&quot;)}&#39; + &#39;}$&#39; +</span>
                    <span class="c1"># f&#39; ({abci_data_trans.wakelength} m)&#39;, linewidth=2)</span>
                    <span class="c1"># update plot data</span>
                    <span class="n">plot_dict</span><span class="p">[</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">id_</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">xr</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}})</span>
                    <span class="c1"># process id</span>
                    <span class="n">plot_dict</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
                        <span class="n">id_</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xr</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;${&#39;</span> <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">id_</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="s1">&#39;}$&#39;</span> <span class="o">+</span>
                                                             <span class="sa">f</span><span class="s1">&#39; (</span><span class="si">{</span><span class="n">abci_data_trans</span><span class="o">.</span><span class="n">wakelength</span><span class="si">}</span><span class="s1"> m)&#39;</span><span class="p">,</span>
                                                <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">picker</span><span class="o">=</span><span class="kc">True</span><span class="p">)})</span>
                    <span class="c1"># mplcursors.cursor(plot_dict[&quot;plot object&quot;][id_])</span>

                <span class="n">ax_selected</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
                <span class="n">ax_selected</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
                <span class="n">ax_selected</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">xr</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">xr</span><span class="p">))</span>

            <span class="c1"># plot axes labels</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update_labels</span><span class="p">()</span></div>

            <span class="c1"># increment plot count</span>
            <span class="c1"># plot_count += 1</span>

<div class="viewcode-block" id="PlotControl.make_abci_plot"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.make_abci_plot">[docs]</a>    <span class="k">def</span> <span class="nf">make_abci_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param pid:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check state of switch</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;It&#39;s here000&quot;</span><span class="p">)</span>
        <span class="n">switch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s2">&quot;Toggle&quot;</span><span class="p">]</span>
        <span class="n">plottype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s2">&quot;Code&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">switch</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;It&#39;s herel&quot;</span><span class="p">)</span>
            <span class="c1"># check if plot already exist</span>
            <span class="c1"># print_(self.plot_dict[pid][&#39;plot data&#39;])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s1">&#39;plot data&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="p">{}:</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;It&#39;s here3&quot;</span><span class="p">)</span>
                <span class="c1"># compare plot input with current input</span>
                <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span>
                <span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>  <span class="c1"># get list</span>
                <span class="n">pol</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Polarization&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                <span class="n">request</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Request&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                <span class="n">folder</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Folder&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
                <span class="n">state</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Toggle&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span>
                <span class="n">axis</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Axis&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

                <span class="n">type_</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">filter_</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">t</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Type&#39;</span><span class="p">]</span>

                <span class="n">type_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
                <span class="n">type_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>

                <span class="n">f</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Filter&#39;</span><span class="p">]</span>
                <span class="n">filter_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
                <span class="n">filter_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">scaleX</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;ScaleX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                    <span class="n">scaleY</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;ScaleY&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">scaleX</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="n">scaleY</span> <span class="o">=</span> <span class="mi">1</span>

                <span class="n">inputs_compare</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">,</span> <span class="s2">&quot;Polarization&quot;</span><span class="p">:</span> <span class="n">pol</span><span class="p">,</span> <span class="s2">&quot;Request&quot;</span><span class="p">:</span> <span class="n">request</span><span class="p">,</span> <span class="s2">&quot;Folder&quot;</span><span class="p">:</span> <span class="n">folder</span><span class="p">,</span>
                                  <span class="s2">&quot;Axis&quot;</span><span class="p">:</span> <span class="n">axis</span><span class="p">,</span> <span class="s2">&quot;ScaleX&quot;</span><span class="p">:</span> <span class="n">scaleX</span><span class="p">,</span> <span class="s2">&quot;ScaleY&quot;</span><span class="p">:</span> <span class="n">scaleY</span><span class="p">,</span> <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="n">type_</span><span class="p">,</span> <span class="s2">&quot;Filter&quot;</span><span class="p">:</span> <span class="n">filter_</span><span class="p">}</span>

                <span class="n">plot_data_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data inputs&quot;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">plot_data_inputs</span> <span class="o">==</span> <span class="n">inputs_compare</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="p">{}:</span>
                        <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s1">&#39;plot object&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                            <span class="n">line2D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># plot with modified inputs</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">plot_impedance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># pop previous entry from plot and dictionary</span>
                    <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s1">&#39;plot object&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                        <span class="n">line2D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

                    <span class="c1"># reset plot data, plot object and plot data inputs</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data inputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_impedance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">])</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># self.ax.clear()</span>
                <span class="c1"># make plot</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Here to make plot&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">plot_impedance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">])</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Here to make plot dfgf&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s1">&#39;plot object&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">line2D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_prop_cycle</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">cycle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">_get_lines</span><span class="o">.</span><span class="n">prop_cycler</span>

        <span class="c1"># update colors, loop over all lines and give color in ascending order</span>
        <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
            <span class="n">line2D</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">cycle</span><span class="p">)[</span><span class="s1">&#39;color&#39;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_labels</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.make_other_plot"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.make_other_plot">[docs]</a>    <span class="k">def</span> <span class="nf">make_other_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">):</span>
        <span class="c1"># check state of switch</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;It&#39;s here000&quot;</span><span class="p">)</span>
        <span class="n">switch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s2">&quot;Toggle&quot;</span><span class="p">]</span>
        <span class="n">plottype</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s2">&quot;Code&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">switch</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;It&#39;s herel&quot;</span><span class="p">)</span>
            <span class="c1"># check if plot already exist</span>
            <span class="c1"># print_(self.plot_dict[pid][&#39;plot data&#39;])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s1">&#39;plot data&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="p">{}:</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;It&#39;s here3&quot;</span><span class="p">)</span>
                <span class="c1"># compare plot input with current input</span>
                <span class="n">args</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span>
                <span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>  <span class="c1"># get list</span>
                <span class="n">filename</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Folder&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
                <span class="c1"># pol = args[&#39;Polarization&#39;].currentText()</span>
                <span class="c1"># request = args[&#39;Request&#39;][0].currentText()</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Now hwere wsdfad&quot;</span><span class="p">)</span>
                <span class="c1"># folder = args[&#39;Folder&#39;][0].text()</span>
                <span class="n">state</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Toggle&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span>
                <span class="n">axis</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Axis&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Now hwere wsdfad&quot;</span><span class="p">)</span>
                <span class="n">requestX</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Request&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                <span class="n">requestY</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Request&#39;</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">)</span>

                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Now hwere wsdfad&quot;</span><span class="p">)</span>
                <span class="n">type_</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">filter_</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">t</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Type&#39;</span><span class="p">]</span>
                <span class="n">type_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
                <span class="n">type_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Now hwere wsdfad&quot;</span><span class="p">)</span>

                <span class="n">f</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s1">&#39;Filter&#39;</span><span class="p">]</span>
                <span class="n">filter_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
                <span class="n">filter_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">scaleX</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;ScaleX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                    <span class="n">scaleY</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;ScaleY&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="n">scaleX</span> <span class="o">=</span> <span class="mi">1</span>
                    <span class="n">scaleY</span> <span class="o">=</span> <span class="mi">1</span>

                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Now hwere wsdfad&quot;</span><span class="p">)</span>

                <span class="n">inputs_compare</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">,</span> <span class="s2">&quot;RequestX&quot;</span><span class="p">:</span> <span class="n">requestX</span><span class="p">,</span> <span class="s2">&quot;RequestY&quot;</span><span class="p">:</span> <span class="n">requestY</span><span class="p">,</span> <span class="s2">&quot;Folder&quot;</span><span class="p">:</span> <span class="n">filename</span><span class="p">,</span>
                                  <span class="s2">&quot;Axis&quot;</span><span class="p">:</span> <span class="n">axis</span><span class="p">,</span> <span class="s2">&quot;ScaleX&quot;</span><span class="p">:</span> <span class="n">scaleX</span><span class="p">,</span> <span class="s2">&quot;ScaleY&quot;</span><span class="p">:</span> <span class="n">scaleY</span><span class="p">,</span> <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="n">type_</span><span class="p">,</span> <span class="s2">&quot;Filter&quot;</span><span class="p">:</span> <span class="n">filter_</span><span class="p">}</span>

                <span class="n">plot_data_inputs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data inputs&quot;</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">plot_data_inputs</span> <span class="o">==</span> <span class="n">inputs_compare</span><span class="p">:</span>
                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;It&#39;s nowhere&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="p">{}:</span>
                        <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s1">&#39;plot object&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                            <span class="n">line2D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># plot with modified inputs</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">plot_other</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">],</span> <span class="n">pid</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># pop previous entry from plot and dictionary</span>
                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;It&#39;s her ein alternative&quot;</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">vals</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s1">&#39;plot object&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                        <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="n">vals</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                            <span class="n">line2D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

                    <span class="c1"># reset plot data, plot object and plot data inputs</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data inputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Alternative here here&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_other</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">],</span> <span class="n">pid</span><span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># self.ax.clear()</span>
                <span class="c1"># make plot</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Here to make plot&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">plot_other</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">],</span> <span class="n">pid</span><span class="p">)</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Here to make plot dfgf&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">vals</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s1">&#39;plot object&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="n">vals</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="n">line2D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_prop_cycle</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="n">cycle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">_get_lines</span><span class="o">.</span><span class="n">prop_cycler</span>

        <span class="c1"># update colors, loop over all lines and give color in ascending order</span>
        <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
            <span class="n">line2D</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">cycle</span><span class="p">)[</span><span class="s1">&#39;color&#39;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">update_labels</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.plot_inset"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.plot_inset">[docs]</a>    <span class="k">def</span> <span class="nf">plot_inset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Show_Hide_Inset</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="c1"># get lines from axis</span>
            <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>

            <span class="n">inset_pos</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Inset_Position</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">inset_pos</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axins</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">inset_axes</span><span class="p">(</span><span class="n">inset_pos</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;#fafafa&#39;</span><span class="p">)</span>
                <span class="c1"># self.axins.axes.xaxis.set_visible(False)</span>
                <span class="c1"># self.axins.axes.yaxis.set_visible(False)</span>

            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">get_linestyle</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;None&#39;</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">get_xdata</span><span class="p">(),</span> <span class="n">line</span><span class="o">.</span><span class="n">get_ydata</span><span class="p">(),</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">line</span><span class="o">.</span><span class="n">get_marker</span><span class="p">(),</span>
                                        <span class="n">markersize</span><span class="o">=</span><span class="n">line</span><span class="o">.</span><span class="n">get_ms</span><span class="p">(),</span> <span class="n">c</span><span class="o">=</span><span class="n">line</span><span class="o">.</span><span class="n">get_color</span><span class="p">(),</span> <span class="n">mec</span><span class="o">=</span><span class="n">line</span><span class="o">.</span><span class="n">get_mec</span><span class="p">())</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">get_xdata</span><span class="p">(),</span> <span class="n">line</span><span class="o">.</span><span class="n">get_ydata</span><span class="p">(),</span> <span class="n">ls</span><span class="o">=</span><span class="n">line</span><span class="o">.</span><span class="n">get_linestyle</span><span class="p">(),</span>
                                        <span class="n">linewidth</span><span class="o">=</span><span class="n">line</span><span class="o">.</span><span class="n">get_lw</span><span class="p">(),</span> <span class="n">c</span><span class="o">=</span><span class="n">line</span><span class="o">.</span><span class="n">get_color</span><span class="p">())</span>

            <span class="c1"># sub region of the original image</span>
            <span class="c1"># get values from line edit</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Inset_Window</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="mf">0.385</span><span class="p">,</span> <span class="mf">0.415</span><span class="p">,</span> <span class="mf">5e-1</span><span class="p">,</span> <span class="mf">3e1</span>  <span class="c1"># default</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">y0</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Y_Scale</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">indicate_inset</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">indicate_inset_zoom</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;_nolegend_&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">indicate_inset</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">indicate_inset</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                        <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
                            <span class="n">y</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">x</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="o">.</span><span class="n">cla</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axins</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">axins</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.plot_other_new"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.plot_other_new">[docs]</a>    <span class="k">def</span> <span class="nf">plot_other_new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pid</span><span class="p">):</span>
        <span class="c1"># print_(self.other_data)</span>
        <span class="c1"># print_(i)</span>

        <span class="n">requestX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cb_X</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">requestY</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cb_Y</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">)</span>

        <span class="n">filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">le_Filename</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="c1"># state = args[&#39;Toggle&#39;][i].checkState()</span>
        <span class="n">axis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cb_Axis_Other</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">type_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cb_Type_Other</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cb_Style</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">scaleX</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">le_ScaleX_Other</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
            <span class="n">scaleY</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">cb_ScaleY</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">print_</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="n">scaleX</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">scaleY</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">filename</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">folder</span> <span class="o">=</span> <span class="sa">fr</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">main_control</span><span class="o">.</span><span class="n">projectDir</span><span class="si">}</span><span class="s1">/SimulationData/ABCI&#39;</span>

        <span class="c1"># # load file (for now, just excel files)</span>
        <span class="c1"># df = fr.excel_reader(filename)</span>
        <span class="c1"># sheet_name = list(df.keys())[0]</span>
        <span class="c1">#</span>
        <span class="c1"># data = df[sheet_name]</span>

        <span class="k">if</span> <span class="n">requestY</span> <span class="o">!=</span> <span class="p">[]</span> <span class="ow">and</span> <span class="n">requestX</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xlsx&#39;</span><span class="p">:</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;xlsx&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
                <span class="c1"># get sheets</span>
                <span class="n">sheets</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">ccb_Id_Other</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">sh</span> <span class="ow">in</span> <span class="n">sheets</span><span class="p">:</span>
                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="n">sh</span><span class="p">)</span>

                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;3&quot;</span><span class="p">)</span>
                    <span class="n">filter_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">ccb_Filter_Other</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">le_Filter_Value_Other</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>

                    <span class="k">if</span> <span class="n">filter_</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span> <span class="ow">or</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;3a&quot;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">][</span><span class="n">sh</span><span class="p">]</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;4&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;4a&quot;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">][</span><span class="n">sh</span><span class="p">][</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">][</span><span class="n">sh</span><span class="p">][</span><span class="n">filter_</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">]</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;4b&quot;</span><span class="p">)</span>

                    <span class="n">x_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span><span class="p">[</span><span class="n">requestX</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span> <span class="o">=</span> <span class="n">x_data</span>

                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">requestY</span><span class="p">)):</span>
                        <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span><span class="p">[</span><span class="n">requestY</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()]</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;xlxx: &quot;</span><span class="p">,</span> <span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

                        <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="s1">&#39;Left&#39;</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">type_</span> <span class="o">==</span> <span class="s1">&#39;Line&#39;</span><span class="p">:</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">requestY</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="n">style</span><span class="p">)</span>
                                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;done plotting xlsx&quot;</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
                                             <span class="n">markeredgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Legend&quot;</span><span class="p">)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$Y$ []&#39;</span><span class="p">)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;$X$ []&#39;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">type_</span> <span class="o">==</span> <span class="s1">&#39;Line&#39;</span><span class="p">:</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">requestY</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="n">style</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">markeredgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">style</span><span class="p">,</span>
                                                   <span class="n">markersize</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
                                                   <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Legend&quot;</span><span class="p">)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$Y$ [dB]&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;txt&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
                <span class="c1"># try to filter self.other_data</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;1a&quot;</span><span class="p">)</span>
                    <span class="n">filter_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">ccb_Filter_Other</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">le_Filter_Value_Other</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">filter_</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span> <span class="ow">or</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;4a&quot;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;5a&quot;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;2a&quot;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">][</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">][</span><span class="n">filter_</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">]</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;3a&quot;</span><span class="p">)</span>

                <span class="k">except</span><span class="p">:</span>
                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;6a&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span>
                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;7a&quot;</span><span class="p">)</span>

                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;8a&quot;</span><span class="p">)</span>
                <span class="n">x_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span><span class="p">[</span><span class="n">requestX</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span> <span class="o">=</span> <span class="n">x_data</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;9a&quot;</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">requestY</span><span class="p">)):</span>
                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;10a&quot;</span><span class="p">)</span>
                    <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span><span class="p">[</span><span class="n">requestY</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()]</span>
                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;11a&quot;</span><span class="p">)</span>

                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;txt: &quot;</span><span class="p">,</span> <span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="s1">&#39;Left&#39;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">type_</span> <span class="o">==</span> <span class="s1">&#39;Line&#39;</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">requestY</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="n">style</span><span class="p">)</span>
                            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Done plotting txt&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
                                         <span class="n">markeredgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
                                         <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Legend&quot;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$Y$ []&#39;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;$X$ []&#39;</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">type_</span> <span class="o">==</span> <span class="s1">&#39;Line&#39;</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">requestY</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="n">style</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
                                               <span class="n">markeredgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
                                               <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Legend&quot;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$Y$ [dB]&#39;</span><span class="p">)</span>
            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;#&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Please specify columns to plot&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.plot_other"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.plot_other">[docs]</a>    <span class="k">def</span> <span class="nf">plot_other</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plot_dict</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="n">args</span> <span class="o">=</span> <span class="n">plot_dict</span>
        <span class="c1"># print_(self.other_data)</span>
        <span class="c1"># print_(i)</span>
        <span class="n">requestX</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Request&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">requestY</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Request&#39;</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">)</span>
        <span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>  <span class="c1"># get list</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Folder&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Toggle&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span>
        <span class="n">axis</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Axis&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">type_</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Type&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">style</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Type&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">filter_</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Filter&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Filter&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">scaleX</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;ScaleX&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
            <span class="n">scaleY</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;ScaleY&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">print_</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="n">scaleX</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="n">scaleY</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">filename</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">folder</span> <span class="o">=</span> <span class="sa">fr</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">main_control</span><span class="o">.</span><span class="n">projectDir</span><span class="si">}</span><span class="s1">/SimulationData/ABCI&#39;</span>

        <span class="c1"># record data input</span>
        <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot data inputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Ids&quot;</span><span class="p">:</span> <span class="n">ids</span><span class="p">,</span> <span class="s2">&quot;RequestX&quot;</span><span class="p">:</span> <span class="n">requestX</span><span class="p">,</span> <span class="s2">&quot;RequestY&quot;</span><span class="p">:</span> <span class="n">requestY</span><span class="p">,</span> <span class="s2">&quot;Folder&quot;</span><span class="p">:</span> <span class="n">filename</span><span class="p">,</span>
                                    <span class="s2">&quot;Axis&quot;</span><span class="p">:</span> <span class="n">axis</span><span class="p">,</span> <span class="s2">&quot;ScaleX&quot;</span><span class="p">:</span> <span class="n">scaleX</span><span class="p">,</span> <span class="s2">&quot;ScaleY&quot;</span><span class="p">:</span> <span class="n">scaleY</span><span class="p">,</span> <span class="s2">&quot;Type&quot;</span><span class="p">:</span> <span class="n">type_</span><span class="p">,</span> <span class="s2">&quot;Filter&quot;</span><span class="p">:</span> <span class="n">filter_</span><span class="p">}</span>

        <span class="c1"># # load file (for now, just excel files)</span>
        <span class="c1"># df = fr.excel_reader(filename)</span>
        <span class="c1"># sheet_name = list(df.keys())[0]</span>
        <span class="c1">#</span>
        <span class="c1"># data = df[sheet_name]</span>

        <span class="n">sheets</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)]</span>
        <span class="k">for</span> <span class="n">sh</span> <span class="ow">in</span> <span class="n">sheets</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="n">ids</span><span class="p">:</span>
                <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot data&quot;</span><span class="p">][</span><span class="n">id_</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">][</span><span class="n">id_</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">if</span> <span class="n">requestY</span> <span class="o">!=</span> <span class="p">[]</span> <span class="ow">and</span> <span class="n">requestX</span> <span class="o">!=</span> <span class="p">[]:</span>
                    <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xlsx&#39;</span><span class="p">:</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;xlsx&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
                        <span class="c1"># get sheets</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">)</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="n">sh</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">filter_</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span> <span class="ow">or</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;3a&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">sh</span><span class="p">])</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">sh</span><span class="p">]</span>
                            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;4&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;4a&quot;</span><span class="p">)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">sh</span><span class="p">][</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">other_data</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">sh</span><span class="p">][</span><span class="n">filter_</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">]</span>
                            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;4b&quot;</span><span class="p">)</span>

                        <span class="n">x_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span><span class="p">[</span><span class="n">requestX</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()]</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span> <span class="o">=</span> <span class="n">x_data</span>

                        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">requestY</span><span class="p">)):</span>
                            <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span><span class="p">[</span><span class="n">requestY</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()]</span>
                            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;xlxx: &quot;</span><span class="p">,</span> <span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
                            <span class="n">print_</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot data&quot;</span><span class="p">])</span>
                            <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot data&quot;</span><span class="p">][</span><span class="n">id_</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">j</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">x_data</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}})</span>

                            <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="s1">&#39;Left&#39;</span><span class="p">:</span>
                                <span class="k">if</span> <span class="n">type_</span> <span class="o">==</span> <span class="s1">&#39;Line&#39;</span><span class="p">:</span>
                                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;hsdadf&quot;</span><span class="p">)</span>
                                    <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">][</span><span class="n">id_</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                                        <span class="p">{</span><span class="n">j</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">requestY</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="n">style</span><span class="p">)})</span>
                                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;done plotting xlsx&quot;</span><span class="p">)</span>
                                <span class="k">else</span><span class="p">:</span>
                                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;y: &quot;</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
                                    <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">][</span><span class="n">id_</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">j</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
                                                                                     <span class="n">marker</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
                                                                                     <span class="n">markeredgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
                                                                                     <span class="n">label</span><span class="o">=</span><span class="n">requestY</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">picker</span><span class="o">=</span><span class="kc">True</span><span class="p">)})</span>
                                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;done plotting xlsx 2&quot;</span><span class="p">)</span>
                                <span class="c1"># mplcursors.cursor(args[&quot;plot object&quot;][id_][j])</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$Y$ []&#39;</span><span class="p">)</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;$X$ []&#39;</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="k">if</span> <span class="n">type_</span> <span class="o">==</span> <span class="s1">&#39;Line&#39;</span><span class="p">:</span>
                                    <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">][</span><span class="n">id_</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">j</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">requestY</span><span class="p">[</span><span class="n">j</span><span class="p">],</span>
                                                                                           <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                                                                           <span class="n">linestyle</span><span class="o">=</span><span class="n">style</span><span class="p">,</span>
                                                                                           <span class="n">picker</span><span class="o">=</span><span class="kc">True</span><span class="p">)})</span>
                                <span class="k">else</span><span class="p">:</span>
                                    <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">][</span><span class="n">id_</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">j</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
                                                                                           <span class="n">marker</span><span class="o">=</span><span class="n">style</span><span class="p">,</span>
                                                                                           <span class="n">markeredgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
                                                                                           <span class="n">markersize</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
                                                                                           <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Legend&quot;</span><span class="p">,</span>
                                                                                           <span class="n">picker</span><span class="o">=</span><span class="kc">True</span><span class="p">)})</span>
                                <span class="c1"># mplcursors.cursor(args[&quot;plot object&quot;][id_][j])</span>
                                <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$Y$ [dB]&#39;</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;txt&quot;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
                    <span class="c1"># try to filter self.other_data</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;1a&quot;</span><span class="p">)</span>
                        <span class="n">filter_</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Filter&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
                        <span class="n">value</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Filter&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
                        <span class="k">if</span> <span class="n">filter_</span> <span class="o">==</span> <span class="s2">&quot;None&quot;</span> <span class="ow">or</span> <span class="n">value</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;4a&quot;</span><span class="p">)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
                            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;5a&quot;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;2a&quot;</span><span class="p">)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">other_data</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="n">filter_</span><span class="p">]</span> <span class="o">==</span> <span class="n">value</span><span class="p">]</span>
                            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;3a&quot;</span><span class="p">)</span>

                    <span class="k">except</span><span class="p">:</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;6a&quot;</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;7a&quot;</span><span class="p">)</span>

                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;8a&quot;</span><span class="p">)</span>
                    <span class="n">x_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleX</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span><span class="p">[</span><span class="n">requestX</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span> <span class="o">=</span> <span class="n">x_data</span>
                    <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;9a&quot;</span><span class="p">)</span>

                    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">requestY</span><span class="p">)):</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;10a&quot;</span><span class="p">)</span>
                        <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span> <span class="o">*</span> <span class="n">scaleY</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_data_filtered</span><span class="p">[</span><span class="n">requestY</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()]</span>
                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;11a&quot;</span><span class="p">)</span>
                        <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot data&quot;</span><span class="p">][</span><span class="n">id_</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">j</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">x_data</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}})</span>

                        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;txt: &quot;</span><span class="p">,</span> <span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">axis</span> <span class="o">==</span> <span class="s1">&#39;Left&#39;</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">type_</span> <span class="o">==</span> <span class="s1">&#39;Line&#39;</span><span class="p">:</span>
                                <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">][</span><span class="n">id_</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                                    <span class="p">{</span><span class="n">j</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">requestY</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="n">style</span><span class="p">)})</span>
                                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Done plotting txt&quot;</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">][</span><span class="n">id_</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                                    <span class="p">{</span><span class="n">j</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
                                                     <span class="n">markeredgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
                                                     <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Legend&quot;</span><span class="p">,</span> <span class="n">picker</span><span class="o">=</span><span class="kc">True</span><span class="p">)})</span>
                            <span class="c1"># mplcursors.cursor(args[&quot;plot object&quot;][id_][j])</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$Y$ []&#39;</span><span class="p">)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;$X$ []&#39;</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">type_</span> <span class="o">==</span> <span class="s1">&#39;Line&#39;</span><span class="p">:</span>
                                <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">][</span><span class="n">id_</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                                    <span class="p">{</span><span class="n">j</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">requestY</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="n">style</span><span class="p">)})</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">args</span><span class="p">[</span><span class="s2">&quot;plot object&quot;</span><span class="p">][</span><span class="n">id_</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                                    <span class="p">{</span><span class="n">j</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
                                                           <span class="n">markeredgecolor</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
                                                           <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Legend&quot;</span><span class="p">,</span> <span class="n">picker</span><span class="o">=</span><span class="kc">True</span><span class="p">)})</span>
                            <span class="c1"># mplcursors.cursor(args[&quot;plot object&quot;][id_][j])</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;$Y$ [dB]&#39;</span><span class="p">)</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;#&quot;</span> <span class="o">*</span> <span class="mi">50</span><span class="p">)</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Please specify columns to plot&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.table_control"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.table_control">[docs]</a>    <span class="k">def</span> <span class="nf">table_control</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># fill the first line</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_new_row</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.create_new_row"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.create_new_row">[docs]</a>    <span class="k">def</span> <span class="nf">create_new_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row_ind</span><span class="p">,</span> <span class="n">table</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        :param row_ind:</span>
<span class="sd">        :param table:</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Toggle on/off</span>
        <span class="n">w_Toggle_Close</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">l_Toggle_Close_Widget</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="n">w_Toggle_Close</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">l_Toggle_Close_Widget</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">row_ind</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">w_Toggle_Close</span><span class="p">)</span>

        <span class="n">cb_toggle</span> <span class="o">=</span> <span class="n">QCheckBox</span><span class="p">()</span>
        <span class="n">cb_toggle</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Checked</span><span class="p">)</span>
        <span class="n">cb_toggle</span><span class="o">.</span><span class="n">stateChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot</span><span class="p">())</span>

        <span class="n">pb_Delete_Row</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">()</span>
        <span class="n">pb_Delete_Row</span><span class="o">.</span><span class="n">setMinimumSize</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QSize</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
        <span class="n">pb_Delete_Row</span><span class="o">.</span><span class="n">setMaximumSize</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QSize</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
        <span class="n">pb_Delete_Row</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">icon3</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">()</span>
        <span class="n">icon3</span><span class="o">.</span><span class="n">addPixmap</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPixmap</span><span class="p">(</span><span class="s2">&quot;:/icons/icons/PNG/stop.png&quot;</span><span class="p">),</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Normal</span><span class="p">,</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="o">.</span><span class="n">Off</span><span class="p">)</span>
        <span class="n">pb_Delete_Row</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">icon3</span><span class="p">)</span>
        <span class="n">pb_Delete_Row</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QSize</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
        <span class="n">pb_Delete_Row</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">remove_row</span><span class="p">(</span><span class="n">pb_Delete_Row</span><span class="p">))</span>

        <span class="n">l_Toggle_Close_Widget</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">l_Toggle_Close_Widget</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">l_Toggle_Close_Widget</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">cb_toggle</span><span class="p">)</span>
        <span class="n">l_Toggle_Close_Widget</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">pb_Delete_Row</span><span class="p">)</span>

        <span class="c1"># Code</span>
        <span class="n">cb_code</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
        <span class="n">cb_code</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s2">&quot;ABCI&quot;</span><span class="p">)</span>
        <span class="n">cb_code</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s2">&quot;SLANS&quot;</span><span class="p">)</span>
        <span class="n">cb_code</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s2">&quot;Other&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">row_ind</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">cb_code</span><span class="p">)</span>

        <span class="c1"># Folder widget</span>
        <span class="n">w_Folder</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">l_Folder_Widget</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="n">w_Folder</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">l_Folder_Widget</span><span class="p">)</span>
        <span class="n">le_Folder</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
        <span class="n">le_Folder</span><span class="o">.</span><span class="n">setReadOnly</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">pb_Open_Folder</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s1">&#39;...&#39;</span><span class="p">)</span>
        <span class="n">pb_Open_Folder</span><span class="o">.</span><span class="n">setMaximumWidth</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
        <span class="n">pb_Open_Folder</span><span class="o">.</span><span class="n">setMinimumWidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
        <span class="c1"># signal to change place holder text is &#39;Other&#39;</span>
        <span class="n">cb_code</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">le_Folder</span><span class="o">.</span><span class="n">setPlaceholderText</span><span class="p">(</span>
            <span class="s1">&#39;Select file&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">cb_code</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Other&#39;</span> <span class="k">else</span> <span class="n">le_Folder</span><span class="o">.</span><span class="n">setPlaceholderText</span><span class="p">(</span><span class="s1">&#39;Select Folder&#39;</span><span class="p">))</span>

        <span class="n">l_Folder_Widget</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">l_Folder_Widget</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">l_Folder_Widget</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">le_Folder</span><span class="p">)</span>
        <span class="n">l_Folder_Widget</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">pb_Open_Folder</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">row_ind</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">w_Folder</span><span class="p">)</span>

        <span class="c1"># Polarisation</span>
        <span class="n">cb_pol</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
        <span class="n">cb_pol</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s2">&quot;Long&quot;</span><span class="p">)</span>
        <span class="n">cb_pol</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s2">&quot;Trans&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">row_ind</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">cb_pol</span><span class="p">)</span>
        <span class="c1"># signal to disable polarisation when cb_code item is &#39;Other&#39;</span>
        <span class="n">cb_code</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="n">cb_pol</span><span class="o">.</span><span class="n">setDisabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">cb_code</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Other&#39;</span> <span class="k">else</span> <span class="n">cb_pol</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">))</span>

        <span class="c1"># Id</span>
        <span class="n">ccb_Id</span> <span class="o">=</span> <span class="n">QCheckableComboBox</span><span class="p">()</span>
        <span class="n">ccb_Id</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s2">&quot;All&quot;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">row_ind</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">ccb_Id</span><span class="p">)</span>
        <span class="c1"># signal to disable id when cb_code item is &#39;Other&#39;</span>
        <span class="n">cb_code</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="n">ccb_Id</span><span class="o">.</span><span class="n">setDisabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">cb_code</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Other&#39;</span> <span class="k">else</span> <span class="n">ccb_Id</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">))</span>

        <span class="c1"># push button signal</span>
        <span class="n">pb_Open_Folder</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_</span><span class="p">(</span><span class="n">le_Folder</span><span class="p">,</span> <span class="n">cb_pol</span><span class="p">,</span> <span class="n">ccb_Id</span><span class="p">,</span> <span class="s1">&#39;File&#39;</span><span class="p">,</span>
                               <span class="n">start_dir</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">main_control</span><span class="o">.</span><span class="n">projectDir</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="n">cb_code</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Other&#39;</span>
        <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">open_</span><span class="p">(</span><span class="n">le_Folder</span><span class="p">,</span> <span class="n">cb_pol</span><span class="p">,</span> <span class="n">ccb_Id</span><span class="p">,</span> <span class="s1">&#39;Folder&#39;</span><span class="p">,</span>
                        <span class="n">start_dir</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">main_control</span><span class="o">.</span><span class="n">projectDir</span><span class="si">}</span><span class="s2">/SimulationData/</span><span class="si">{</span><span class="n">cb_code</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
        <span class="c1"># le_Folder.textChanged.connect(lambda: )</span>

        <span class="n">cb_pol</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">populate_IDs</span><span class="p">(</span><span class="n">le_Folder</span><span class="o">.</span><span class="n">text</span><span class="p">(),</span> <span class="n">cb_pol</span><span class="p">,</span>
                                      <span class="n">ccb_Id</span><span class="p">)</span> <span class="k">if</span> <span class="n">cb_code</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Other&#39;</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">populate_IDs</span><span class="p">(</span>
                <span class="n">le_Folder</span><span class="o">.</span><span class="n">text</span><span class="p">(),</span> <span class="n">cb_pol</span><span class="p">,</span> <span class="n">ccb_Id</span><span class="p">))</span>

        <span class="c1"># Request</span>
        <span class="c1"># Request widget</span>
        <span class="n">w_Request</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">l_Request_Widget</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="n">l_Request_Widget</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">l_Request_Widget</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">w_Request</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">l_Request_Widget</span><span class="p">)</span>

        <span class="n">request_dict_long</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Longitudinal Impedance Magnitude&#39;</span><span class="p">,</span>
                             <span class="mi">1</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Cavity Shape Input&#39;</span><span class="p">,</span>
                             <span class="mi">2</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Cavity Shape Used&#39;</span><span class="p">,</span>
                             <span class="mi">3</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Wake Potentials&#39;</span><span class="p">,</span>
                             <span class="mi">4</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Real Part of Longitudinal Impedance&#39;</span><span class="p">,</span>
                             <span class="mi">5</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Imaginary Part of Longitudinal Impedance&#39;</span><span class="p">,</span>
                             <span class="mi">6</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Frequency Spectrum of Loss Factor&#39;</span><span class="p">,</span>
                             <span class="mi">7</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Loss Factor Spectrum Integrated up to F&#39;</span><span class="p">,</span>
                             <span class="mi">8</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Real Part of Long. + Log Impedance&#39;</span><span class="p">,</span>
                             <span class="mi">9</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Imaginary Part of Long. + Log Impedance&#39;</span><span class="p">,</span>
                             <span class="mi">10</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Spectrum of Long. + Log Loss Factor&#39;</span><span class="p">,</span>
                             <span class="mi">11</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Long. + Log Factor Integrated up to F&#39;</span>
                             <span class="p">}</span>

        <span class="n">request_dict_trans</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;Transverse Impedance Magnitude&#39;</span><span class="p">,</span>
                              <span class="mi">1</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Cavity Shape Input&#39;</span><span class="p">,</span>
                              <span class="mi">2</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Cavity Shape Used&#39;</span><span class="p">,</span>
                              <span class="mi">3</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Wake Potentials&#39;</span><span class="p">,</span>
                              <span class="mi">4</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Real Part of Azimuthal Impedance&#39;</span><span class="p">,</span>
                              <span class="mi">5</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Imaginary Part of Azimuthal Impedance&#39;</span><span class="p">,</span>
                              <span class="mi">6</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Real Part of Transverse Impedance&#39;</span><span class="p">,</span>
                              <span class="mi">7</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Imaginary Part of Transverse Impedance&#39;</span><span class="p">,</span>
                              <span class="mi">8</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Real Part of Longitudinal Impedance&#39;</span><span class="p">,</span>
                              <span class="mi">9</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;Imaginary Part of Longitudinal Impedance&#39;</span>
                              <span class="p">}</span>

        <span class="n">cb_request</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="n">request_dict_long</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">cb_request</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>

        <span class="c1"># create widget with two comboboxes</span>
        <span class="n">cb_X</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
        <span class="n">cb_Y</span> <span class="o">=</span> <span class="n">QCheckableComboBox</span><span class="p">()</span>

        <span class="c1"># place cb_request and le_request in request widget layout</span>
        <span class="n">l_Request_Widget</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">cb_request</span><span class="p">)</span>
        <span class="n">l_Request_Widget</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">cb_X</span><span class="p">)</span>
        <span class="n">l_Request_Widget</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">cb_Y</span><span class="p">)</span>

        <span class="c1"># hide le_request</span>
        <span class="n">cb_X</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
        <span class="n">cb_Y</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>

        <span class="c1"># add widget to table</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">row_ind</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">w_Request</span><span class="p">)</span>

        <span class="c1"># Filter</span>
        <span class="c1"># Filter widget</span>
        <span class="n">w_Filter</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">l_Filter_Widget</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="n">l_Filter_Widget</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">l_Filter_Widget</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">w_Filter</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">l_Filter_Widget</span><span class="p">)</span>

        <span class="c1"># checkable combo box</span>
        <span class="n">ccb_Filter</span> <span class="o">=</span> <span class="n">QCheckableComboBox</span><span class="p">()</span>
        <span class="n">ccb_Filter</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s2">&quot;None&quot;</span><span class="p">)</span>
        <span class="n">ccb_Filter</span><span class="o">.</span><span class="n">setMinimumWidth</span><span class="p">(</span><span class="mi">75</span><span class="p">)</span>
        <span class="n">l_Filter_Widget</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">ccb_Filter</span><span class="p">)</span>

        <span class="c1"># line edit</span>
        <span class="n">le_Value</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
        <span class="n">l_Filter_Widget</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">le_Value</span><span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">row_ind</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">w_Filter</span><span class="p">)</span>

        <span class="c1"># add signal to le_Folder after editing to update cb_X and cb_Y</span>
        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotID_count</span>
        <span class="n">le_Folder</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">populate_combobox</span><span class="p">([</span><span class="n">cb_X</span><span class="p">,</span> <span class="n">cb_Y</span><span class="p">,</span> <span class="n">ccb_Filter</span><span class="p">],</span> <span class="n">le_Folder</span><span class="o">.</span><span class="n">text</span><span class="p">(),</span> <span class="n">key</span><span class="p">))</span>

        <span class="c1"># signal to disable polarisation when cb_code item is &#39;Other&#39;</span>
        <span class="n">cb_code</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_hide_request_widgets</span><span class="p">(</span><span class="n">cb_code</span><span class="p">,</span> <span class="n">cb_request</span><span class="p">,</span> <span class="n">cb_X</span><span class="p">,</span> <span class="n">cb_Y</span><span class="p">))</span>

        <span class="c1"># add signal to switch between longitudinal and transverse</span>
        <span class="n">cb_pol</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">switchRequest</span><span class="p">(</span><span class="n">cb_request</span><span class="p">,</span> <span class="n">request_dict_long</span><span class="p">,</span> <span class="n">request_dict_trans</span><span class="p">,</span> <span class="n">cb_pol</span><span class="p">))</span>

        <span class="c1"># ScaleX</span>
        <span class="n">le_ScaleX</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
        <span class="n">le_ScaleX</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">row_ind</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">le_ScaleX</span><span class="p">)</span>

        <span class="c1"># ScaleY</span>
        <span class="n">le_ScaleY</span> <span class="o">=</span> <span class="n">QLineEdit</span><span class="p">()</span>
        <span class="n">le_ScaleY</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">row_ind</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">le_ScaleY</span><span class="p">)</span>
        <span class="n">le_ScaleX</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">validating</span><span class="p">(</span><span class="n">le_ScaleX</span><span class="p">))</span>
        <span class="n">le_ScaleY</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">validating</span><span class="p">(</span><span class="n">le_ScaleY</span><span class="p">))</span>

        <span class="c1"># axis</span>
        <span class="n">axis_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Left&#39;</span><span class="p">,</span> <span class="s1">&#39;Right&#39;</span><span class="p">,</span> <span class="s1">&#39;Top&#39;</span><span class="p">,</span> <span class="s1">&#39;Bottom&#39;</span><span class="p">]</span>
        <span class="n">cb_axis</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">axis_list</span><span class="p">:</span>
            <span class="n">cb_axis</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

        <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">row_ind</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">cb_axis</span><span class="p">)</span>

        <span class="c1"># type</span>
        <span class="n">w_Type</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
        <span class="n">l_Type_Widget</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="n">l_Type_Widget</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">l_Type_Widget</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">w_Type</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">l_Type_Widget</span><span class="p">)</span>
        <span class="n">type_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Line&#39;</span><span class="p">,</span> <span class="s1">&#39;Scatter&#39;</span><span class="p">,</span> <span class="s1">&#39;Bar&#39;</span><span class="p">]</span>

        <span class="c1"># check box</span>
        <span class="n">cb_type</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">type_list</span><span class="p">:</span>
            <span class="n">cb_type</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

        <span class="n">l_Type_Widget</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">cb_type</span><span class="p">)</span>
        <span class="c1"># check box</span>
        <span class="n">cb_style</span> <span class="o">=</span> <span class="n">QComboBox</span><span class="p">()</span>
        <span class="n">l_Type_Widget</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">cb_style</span><span class="p">)</span>

        <span class="n">line_style</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="s1">&#39;-.&#39;</span><span class="p">]</span>
        <span class="n">scatter_marker</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">]</span>
        <span class="c1"># fill default</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">line_style</span><span class="p">:</span>
            <span class="n">cb_style</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

        <span class="c1"># signal for combobox</span>
        <span class="n">cb_type</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">populate_combobox_list</span><span class="p">(</span><span class="n">cb_style</span><span class="p">,</span> <span class="n">line_style</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">cb_type</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Line&quot;</span>
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">populate_combobox_list</span><span class="p">(</span><span class="n">cb_style</span><span class="p">,</span> <span class="n">scatter_marker</span><span class="p">))</span>

        <span class="n">table</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">row_ind</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="n">w_Type</span><span class="p">)</span>

        <span class="n">args_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Code&#39;</span><span class="p">:</span> <span class="n">cb_code</span><span class="p">,</span> <span class="s1">&#39;Folder&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">le_Folder</span><span class="p">,</span> <span class="n">pb_Open_Folder</span><span class="p">,</span> <span class="n">w_Folder</span><span class="p">,</span> <span class="n">l_Folder_Widget</span><span class="p">],</span>
                     <span class="s1">&#39;Polarization&#39;</span><span class="p">:</span> <span class="n">cb_pol</span><span class="p">,</span> <span class="s1">&#39;Id&#39;</span><span class="p">:</span> <span class="n">ccb_Id</span><span class="p">,</span>
                     <span class="s1">&#39;Request&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">cb_request</span><span class="p">,</span> <span class="n">cb_X</span><span class="p">,</span> <span class="n">cb_Y</span><span class="p">,</span> <span class="n">w_Request</span><span class="p">,</span> <span class="n">l_Request_Widget</span><span class="p">],</span> <span class="s1">&#39;Toggle&#39;</span><span class="p">:</span> <span class="n">cb_toggle</span><span class="p">,</span>
                     <span class="s1">&#39;Remove&#39;</span><span class="p">:</span> <span class="n">pb_Delete_Row</span><span class="p">,</span> <span class="s1">&#39;ScaleX&#39;</span><span class="p">:</span> <span class="n">le_ScaleX</span><span class="p">,</span> <span class="s1">&#39;ScaleY&#39;</span><span class="p">:</span> <span class="n">le_ScaleY</span><span class="p">,</span> <span class="s1">&#39;Axis&#39;</span><span class="p">:</span> <span class="n">cb_axis</span><span class="p">,</span>
                     <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">cb_type</span><span class="p">,</span> <span class="n">cb_style</span><span class="p">],</span> <span class="s1">&#39;Filter&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">ccb_Filter</span><span class="p">,</span> <span class="n">le_Value</span><span class="p">]}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;plot data&quot;</span><span class="p">:</span> <span class="p">{},</span> <span class="s2">&quot;plot object&quot;</span><span class="p">:</span> <span class="p">{},</span>
                               <span class="s2">&quot;plot data inputs&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">args_dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plotID_count</span> <span class="o">+=</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="PlotControl.generateMenu"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.generateMenu">[docs]</a>    <span class="k">def</span> <span class="nf">generateMenu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
        <span class="c1"># Get index</span>
        <span class="n">menu</span> <span class="o">=</span> <span class="n">QMenu</span><span class="p">()</span>
        <span class="n">item1</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="s2">&quot;Add Row&quot;</span><span class="p">)</span>
        <span class="n">item2</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="s2">&quot;Delete Row&quot;</span><span class="p">)</span>
        <span class="c1"># Make the menu display in the normal position</span>
        <span class="n">screenPos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">mapToGlobal</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>

        <span class="c1"># Click on a menu item to return, making it blocked</span>
        <span class="n">action</span> <span class="o">=</span> <span class="n">menu</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">screenPos</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="n">item1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_row</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="n">item2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="PlotControl.add_row"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.add_row">[docs]</a>    <span class="k">def</span> <span class="nf">add_row</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># get current number of rows</span>
        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()</span>

        <span class="c1"># add new row</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># and one row in the table</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_new_row</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.remove_row"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.remove_row">[docs]</a>    <span class="k">def</span> <span class="nf">remove_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pb_Remove</span><span class="p">):</span>

        <span class="c1"># remove from table</span>
        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">rowCount</span><span class="p">()</span>
        <span class="c1"># print_(&quot;\t\t\t\t\trow&quot;, row)</span>
        <span class="n">row</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">key</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;ABCI&quot;</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">if</span> <span class="n">val</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Remove&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">pb_Remove</span><span class="p">:</span>
                <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Matched remove button to row&quot;</span><span class="p">)</span>
                <span class="n">row</span> <span class="o">=</span> <span class="n">i</span>
                <span class="n">key</span> <span class="o">=</span> <span class="n">k</span>
                <span class="n">code</span> <span class="o">=</span> <span class="n">val</span><span class="p">[</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Code&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">removeRow</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
        <span class="c1"># reset number of rows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">code</span> <span class="o">==</span> <span class="s2">&quot;ABCI&quot;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;plot object&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">line2D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">vals</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;plot object&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">print_</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">line2D</span> <span class="ow">in</span> <span class="n">vals</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="n">line2D</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

        <span class="c1"># reset plot data, plot object and plot data inputs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s2">&quot;plot object&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s2">&quot;plot data inputs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Here after matched remove button to row&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.switchRequest"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.switchRequest">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">switchRequest</span><span class="p">(</span><span class="n">cb_Request</span><span class="p">,</span> <span class="n">request_dict_long</span><span class="p">,</span> <span class="n">request_dict_trans</span><span class="p">,</span> <span class="n">cb_Code</span><span class="p">):</span>
        <span class="c1"># clear combo box</span>
        <span class="n">cb_Request</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">print_</span><span class="p">(</span><span class="s1">&#39;here&#39;</span><span class="p">)</span>
        <span class="c1"># add new items</span>
        <span class="k">if</span> <span class="n">cb_Code</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;long&#39;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="n">request_dict_long</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">cb_Request</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">req</span> <span class="ow">in</span> <span class="n">request_dict_trans</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                <span class="n">cb_Request</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">req</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.switchCode"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.switchCode">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">switchCode</span><span class="p">(</span><span class="n">cb_Code</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">cb_Code</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;ABCI&#39;</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">cb_Code</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;SLANS&#39;</span><span class="p">:</span>
            <span class="k">pass</span></div>

<div class="viewcode-block" id="PlotControl.mousePressEvent"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.mousePressEvent">[docs]</a>    <span class="k">def</span> <span class="nf">mousePressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">buttons</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">Qt</span><span class="o">.</span><span class="n">RightButton</span><span class="p">:</span>
            <span class="n">row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">currentRow</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">row</span> <span class="o">=</span> <span class="n">row</span></div>

<div class="viewcode-block" id="PlotControl.calc_limits"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.calc_limits">[docs]</a>    <span class="k">def</span> <span class="nf">calc_limits</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">freq_glob</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Longitudinal_Threshold</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Transverse_Threshold</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">E0</span> <span class="o">=</span> <span class="p">[</span><span class="mf">45.6</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mf">182.5</span><span class="p">]</span>  <span class="c1"># [GeV] Energy</span>
                <span class="n">nu_s</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.025</span><span class="p">,</span> <span class="mf">0.0506</span><span class="p">,</span> <span class="mf">0.036</span><span class="p">,</span> <span class="mf">0.087</span><span class="p">]</span>  <span class="c1"># Synchrotron oscillation tune</span>
                <span class="n">I0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1400</span><span class="p">,</span> <span class="mi">135</span><span class="p">,</span> <span class="mf">26.7</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>  <span class="c1"># [mA] Beam current5.4 * 2</span>
                <span class="n">alpha_c</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.48</span><span class="p">,</span> <span class="mf">1.48</span><span class="p">,</span> <span class="mf">0.73</span><span class="p">,</span> <span class="mf">0.73</span><span class="p">]</span>  <span class="c1"># [10−5] Momentum compaction factor</span>
                <span class="n">tau_z</span> <span class="o">=</span> <span class="p">[</span><span class="mf">424.6</span><span class="p">,</span> <span class="mf">78.7</span><span class="p">,</span> <span class="mf">23.4</span><span class="p">,</span> <span class="mf">6.8</span><span class="p">]</span>  <span class="c1"># [ms] Longitudinal damping time</span>
                <span class="n">tau_xy</span> <span class="o">=</span> <span class="p">[</span><span class="mf">849.2</span><span class="p">,</span> <span class="mf">157.4</span><span class="p">,</span> <span class="mf">46.8</span><span class="p">,</span> <span class="mf">13.6</span><span class="p">]</span>  <span class="c1"># [ms] Transverse damping time</span>
                <span class="n">frev</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.07</span><span class="p">,</span> <span class="mf">3.07</span><span class="p">,</span> <span class="mf">3.07</span><span class="p">,</span> <span class="mf">3.07</span><span class="p">]</span>  <span class="c1"># [kHz] Revolution frequency</span>
                <span class="n">beta_xy</span> <span class="o">=</span> <span class="mi">50</span>

                <span class="c1">#     Ncav = [52, 52, 136, 584] # Number of cavities per beam</span>
                <span class="n">Ncav</span> <span class="o">=</span> <span class="p">[</span><span class="mi">56</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">140</span><span class="p">]</span>  <span class="c1"># 1_2_2_25</span>

                <span class="n">E0</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_E0</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="n">nu_s</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Nu_S</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="n">I0</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_I0</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="n">alpha_c</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Alpha_S</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="n">tau_z</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Tau_Z</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="n">tau_xy</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Tau_XY</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="n">frev</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_F_Rev</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="n">beta_xy</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Beta_XY</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="n">Ncav</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">literal_eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_N_Cav</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
                <span class="n">unit</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;MHz&#39;</span><span class="p">:</span> <span class="mf">1e6</span><span class="p">,</span>
                        <span class="s1">&#39;GHz&#39;</span><span class="p">:</span> <span class="mf">1e9</span><span class="p">}</span>

                <span class="n">Z_list</span><span class="p">,</span> <span class="n">ZT_le</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
                <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;monopole&#39;</span><span class="p">:</span>
                    <span class="c1"># trim f</span>
                    <span class="c1"># f_list = f_list[0:len(f_list) - 100]</span>
                    <span class="c1"># f_list = self.freq_glob[0:len(self.freq_glob)]</span>

                    <span class="c1"># f_list = np.linspace(0, self.freq_glob[-1], num=1000)</span>

                    <span class="n">f_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">dsb_Frange_Min</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span>
                                         <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">dsb_Frange_Max</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span>
                                         <span class="n">num</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span><span class="o">*</span><span class="n">unit</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Frange_Unit</span><span class="o">.</span><span class="n">currentText</span><span class="p">()]</span>
                    <span class="n">Z_le</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">Ncav</span><span class="p">):</span>
                        <span class="n">Z</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">E0</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mf">1e9</span> <span class="o">*</span> <span class="n">nu_s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="n">I0</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-3</span> <span class="o">*</span> <span class="n">alpha_c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-5</span> <span class="o">*</span> <span class="n">tau_z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-3</span> <span class="o">*</span> <span class="n">f</span><span class="p">)</span>
                             <span class="k">if</span> <span class="n">f</span> <span class="o">&gt;</span> <span class="mf">1e-8</span> <span class="k">else</span> <span class="mf">1e5</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">f_list</span><span class="p">]</span>

                        <span class="n">Z_le</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">round</span><span class="p">((</span><span class="mi">2</span> <span class="o">*</span> <span class="n">E0</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="mf">1e9</span> <span class="o">*</span> <span class="n">nu_s</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="n">I0</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-3</span> <span class="o">*</span> <span class="n">alpha_c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-5</span> <span class="o">*</span> <span class="n">tau_z</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-3</span><span class="p">)</span><span class="o">*</span><span class="mf">1e-9</span><span class="o">*</span><span class="mf">1e-3</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
                        <span class="n">Z_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Z</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_baselines</span><span class="p">(</span><span class="n">f_list</span><span class="o">/</span><span class="n">unit</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Frange_Unit</span><span class="o">.</span><span class="n">currentText</span><span class="p">()],</span>
                                        <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Z_list</span><span class="p">)</span><span class="o">*</span><span class="mf">1e-3</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>  <span class="c1"># to kOhm</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Zth_Long</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">Z_le</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
                    <span class="k">return</span> <span class="n">f_list</span><span class="p">,</span> <span class="n">Z_list</span>

                <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;dipole&#39;</span><span class="p">:</span>
                    <span class="c1"># f_list = self.freq_glob[0:len(self.freq_glob)]</span>
                    <span class="c1"># f_list = np.linspace(0, self.freq_glob[-1], num=1000)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">1</span><span class="p">])</span>
                    <span class="n">f_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">dsb_Frange_Min</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span>
                                         <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">dsb_Frange_Max</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span>
                                         <span class="n">num</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span><span class="o">*</span><span class="n">unit</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Frange_Unit</span><span class="o">.</span><span class="n">currentText</span><span class="p">()]</span>
                    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">Ncav</span><span class="p">):</span>
                        <span class="n">ZT</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">E0</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">*</span> <span class="mf">1e9</span> <span class="o">/</span> <span class="p">(</span><span class="n">n</span> <span class="o">*</span> <span class="n">I0</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-3</span> <span class="o">*</span> <span class="n">beta_xy</span> <span class="o">*</span> <span class="n">tau_xy</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mf">1e-3</span> <span class="o">*</span> <span class="n">frev</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mf">1e3</span><span class="p">)</span>
                        <span class="n">ZT_le</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ZT</span><span class="o">*</span><span class="mf">1e-3</span><span class="p">)</span>
                        <span class="n">Z_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ZT</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Zth_Trans</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">ZT_le</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">plot_baselines</span><span class="p">(</span><span class="n">f_list</span><span class="o">/</span><span class="n">unit</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Frange_Unit</span><span class="o">.</span><span class="n">currentText</span><span class="p">()],</span>
                                        <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Z_list</span><span class="p">)</span><span class="o">*</span><span class="mf">1e-3</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>  <span class="c1"># to kOhm</span>

                    <span class="k">return</span> <span class="n">Z_list</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">remove_baselines</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.plot_baselines"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.plot_baselines">[docs]</a>    <span class="k">def</span> <span class="nf">plot_baselines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f_list</span><span class="p">,</span> <span class="n">Z_list</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;monopole&#39;</span><span class="p">:</span>
            <span class="c1"># plot baselines</span>
            <span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;tt&#39;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">z</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">Z_list</span><span class="p">):</span>
                <span class="n">aa</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">f_list</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
                <span class="c1"># ab = self.ax.text(1, z[200], f&#39;{text[i]}&#39;)</span>

                <span class="c1"># keep record</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">baseline_line_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aa</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="c1"># self.baseline_line_objects.append(ab)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">flush_events</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># plot baselines</span>
            <span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;tt&#39;</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">z</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">Z_list</span><span class="p">):</span>
                <span class="n">aa</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
                <span class="c1"># ab = self.ax.text(0.5, z+1.8, f&#39;{text[i]}&#39;, transform = self.ax.transAxes, va=&#39;top&#39;)</span>
                <span class="c1"># coordinate system transformation</span>

                <span class="c1"># keep record</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">baseline_line_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">aa</span><span class="p">)</span>
                <span class="c1"># self.baseline_line_objects.append(ab)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">flush_events</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.remove_baselines"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.remove_baselines">[docs]</a>    <span class="k">def</span> <span class="nf">remove_baselines</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">baseline_line_objects</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_lines</span><span class="p">():</span>
                <span class="n">line</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">findobj</span><span class="p">():</span>
                <span class="n">line</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">autoscale</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">relim</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.populate_cutoff_combobox"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.populate_cutoff_combobox">[docs]</a>    <span class="k">def</span> <span class="nf">populate_cutoff_combobox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cutoff</span><span class="p">):</span>
        <span class="n">cutoff</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">cutoff</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s2">&quot;All&quot;</span><span class="p">)</span>

        <span class="n">ll</span> <span class="o">=</span> <span class="n">text_to_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Ri_Cutoff_List</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">ll</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">Ri_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Ri_list</span> <span class="o">=</span> <span class="n">text_to_list_</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Ri_Cutoff_List</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>

        <span class="n">c</span> <span class="o">=</span> <span class="mi">299792458</span>

        <span class="n">M</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
        <span class="n">N</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
        <span class="n">mode_list</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">mode_name_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;TM&#39;</span><span class="p">,</span> <span class="s1">&#39;TE&#39;</span><span class="p">]</span>
        <span class="n">f_list</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">Ri</span> <span class="ow">in</span> <span class="n">Ri_list</span><span class="p">:</span>
            <span class="n">mode_list</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">Ri</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">f_list</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">Ri</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">M</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">N</span><span class="p">:</span>
                    <span class="c1"># get jacobian</span>
                    <span class="n">j_mn</span> <span class="o">=</span> <span class="n">jn_zeros</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">)[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
                    <span class="n">j_mn_p</span> <span class="o">=</span> <span class="n">jnp_zeros</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">n</span><span class="p">)[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
                    <span class="n">J</span> <span class="o">=</span> <span class="p">[</span><span class="n">j_mn</span><span class="p">,</span> <span class="n">j_mn_p</span><span class="p">]</span>
                    <span class="c1"># for p in P:</span>
                    <span class="k">for</span> <span class="n">mode_type</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">J</span><span class="p">):</span>
                        <span class="c1"># formula</span>
                        <span class="c1"># f = c / (2 * np.pi) * ((j / Ri) ** 2 + (p * np.pi / L) ** 2) ** 0.5</span>
                        <span class="n">f</span> <span class="o">=</span> <span class="n">c</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">j</span> <span class="o">/</span> <span class="p">(</span><span class="n">Ri</span> <span class="o">*</span> <span class="mf">1e-3</span><span class="p">))</span>

                        <span class="c1"># append mode name</span>
                        <span class="n">mode_list</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">Ri</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">mode_name_list</span><span class="p">[</span><span class="n">mode_type</span><span class="p">]</span><span class="si">}{</span><span class="n">m</span><span class="si">}{</span><span class="n">n</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

                        <span class="c1"># append to f list</span>
                        <span class="n">f_list</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">Ri</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span> <span class="o">*</span> <span class="mf">1e-6</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">f_list_sorted</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">Ri</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">f_list</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">Ri</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mode_list_sorted</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">Ri</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">f_list</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">Ri</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">],</span> <span class="n">mode_list</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">Ri</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]))]</span>

        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode_list_sorted</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">f_list_sorted</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">Ri_list</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">cutoff</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mode_list_sorted</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">Ri_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">])</span>

        <span class="n">color</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#008fd5&#39;</span><span class="p">,</span> <span class="s1">&#39;#fc4f30&#39;</span><span class="p">,</span> <span class="s1">&#39;#e5ae38&#39;</span><span class="p">,</span> <span class="s1">&#39;#6d904f&#39;</span><span class="p">,</span> <span class="s1">&#39;#8b8b8b&#39;</span><span class="p">,</span> <span class="s1">&#39;#810f7c&#39;</span><span class="p">]</span>
        <span class="n">step</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.02</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">]</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span></div>

<div class="viewcode-block" id="PlotControl.plot_cutoff"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.plot_cutoff">[docs]</a>    <span class="k">def</span> <span class="nf">plot_cutoff</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cutoff</span><span class="p">):</span>
        <span class="c1"># selected</span>
        <span class="n">selected</span> <span class="o">=</span> <span class="n">cutoff</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span>
        <span class="n">Ri_list</span> <span class="o">=</span> <span class="n">text_to_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Ri_Cutoff_List</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>

        <span class="n">selected_combination</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">selected_combination_keys</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">selected</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">s</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span> <span class="ow">and</span> <span class="n">s</span> <span class="o">!=</span> <span class="s2">&quot;All&quot;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">Ri</span> <span class="ow">in</span> <span class="n">Ri_list</span><span class="p">:</span>
                    <span class="n">selected_combination</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">s</span><span class="p">,</span> <span class="n">Ri</span><span class="p">])</span>
                    <span class="n">selected_combination_keys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="p">[</span><span class="n">s</span><span class="p">,</span> <span class="n">Ri</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">sc</span> <span class="ow">in</span> <span class="n">selected_combination</span><span class="p">:</span>
            <span class="k">if</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">sc</span><span class="si">}</span><span class="s2">&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_obj_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">indx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode_list_sorted</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">sc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">freq</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">f_list_sorted</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">][</span><span class="n">indx</span><span class="p">]</span>

                <span class="n">vl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">sc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> cutoff (Ri=</span><span class="si">{</span><span class="n">sc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>

                <span class="n">ab</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">add_text</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$f_\mathrm{c,&quot;</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">sc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="sa">r</span><span class="s2">&quot;} (R_\mathrm</span><span class="si">{i}</span><span class="s2"> = &quot;</span>
                                       <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">sc</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="sa">r</span><span class="s2">&quot; ~\mathrm</span><span class="si">{mm}</span><span class="s2">) $&quot;</span><span class="p">,</span>
                                       <span class="n">box</span><span class="o">=</span><span class="s2">&quot;None&quot;</span><span class="p">,</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="mf">0.02</span><span class="p">),</span>
                                       <span class="n">xycoords</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>

                <span class="c1"># update axes object dictionary</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ax_obj_dict</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">sc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">vl</span><span class="p">,</span> <span class="n">ab</span><span class="p">]})</span>

        <span class="c1"># compare selected to ax_obj_dict</span>
        <span class="n">deleted_lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_obj_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">selected_combination_keys</span><span class="p">:</span>
                <span class="n">deleted_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">deleted_lines</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_obj_dict</span><span class="p">[</span><span class="n">k</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">findobj</span><span class="p">():</span>
                    <span class="n">obj</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># remove object from text dictionary in plotter</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">plt</span><span class="o">.</span><span class="n">text_dict</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_obj_dict</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.calc_cutoff"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.calc_cutoff">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">calc_cutoff</span><span class="p">(</span><span class="n">Ri</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="c1"># calculate frequency from Ri</span>
        <span class="n">p_TM01</span><span class="p">,</span> <span class="n">p_TE11</span> <span class="o">=</span> <span class="mf">2.405</span><span class="p">,</span> <span class="mf">1.841</span>
        <span class="n">c</span> <span class="o">=</span> <span class="mi">299792458</span>  <span class="c1"># m/s</span>

        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;TM01&#39;</span><span class="p">:</span>
            <span class="n">freq</span> <span class="o">=</span> <span class="p">(</span><span class="n">c</span> <span class="o">*</span> <span class="n">p_TM01</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">Ri</span> <span class="o">*</span> <span class="mf">1e9</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e3</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;here&quot;</span><span class="p">)</span>
            <span class="n">freq</span> <span class="o">=</span> <span class="p">(</span><span class="n">c</span> <span class="o">*</span> <span class="n">p_TE11</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">Ri</span> <span class="o">*</span> <span class="mf">1e9</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e3</span>

        <span class="k">return</span> <span class="n">freq</span></div>

<div class="viewcode-block" id="PlotControl.toggle_page"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.toggle_page">[docs]</a>    <span class="k">def</span> <span class="nf">toggle_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;Plot Decorations&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sw_Plot_Area_Tools</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;Machine Parameters&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sw_Plot_Area_Tools</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.toggle_axis_labels"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.toggle_axis_labels">[docs]</a>    <span class="k">def</span> <span class="nf">toggle_axis_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">get_lines</span><span class="p">())</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># turn on axis ticks and labels</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># turn on axis ticks and labels</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">get_lines</span><span class="p">())</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># turn on axis ticks and labels</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="c1"># set colors</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s1">&#39;#000000&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="s1">&#39;#000000&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#008fd5&#39;</span><span class="p">,</span> <span class="s1">&#39;#fc4f30&#39;</span><span class="p">,</span> <span class="s1">&#39;#e5ae38&#39;</span><span class="p">,</span> <span class="s1">&#39;#6d904f&#39;</span><span class="p">,</span> <span class="s1">&#39;#8b8b8b&#39;</span><span class="p">,</span> <span class="s1">&#39;#810f7c&#39;</span><span class="p">]</span>
            <span class="c1"># turn on axis ticks and labels</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

            <span class="c1"># set colors</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span></div>

<div class="viewcode-block" id="PlotControl.open_"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.open_">[docs]</a>    <span class="k">def</span> <span class="nf">open_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">le</span><span class="p">,</span> <span class="n">cb_pol</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">ccb</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;Folder&#39;</span><span class="p">,</span> <span class="n">row_ind</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">start_dir</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">&quot;Folder&quot;</span><span class="p">:</span>
            <span class="n">data_dir</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span>
                <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getExistingDirectory</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Select Directory&quot;</span><span class="p">,</span> <span class="n">start_dir</span><span class="p">,</span>
                                                 <span class="n">QFileDialog</span><span class="o">.</span><span class="n">ShowDirsOnly</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">data_dir</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">le</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span>

                <span class="c1"># populate checkable combobox</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">populate_IDs</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="n">cb_pol</span><span class="p">,</span> <span class="n">ccb</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">filename</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Open File&quot;</span><span class="p">,</span> <span class="n">start_dir</span><span class="p">,</span>
                                                      <span class="s2">&quot;Excel Files (*.txt *.xlsx *.json)&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">filename</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">le</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.populate_IDs"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.populate_IDs">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">populate_IDs</span><span class="p">(</span><span class="n">dirc</span><span class="p">,</span> <span class="n">cb_pol</span><span class="p">,</span> <span class="n">ccb</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">dirc</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">dir_list</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">dirc</span><span class="p">)</span>

            <span class="c1"># copy selection</span>
            <span class="n">selection</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="n">ccb</span><span class="o">.</span><span class="n">currentText</span><span class="p">():</span>
                <span class="n">selection</span> <span class="o">=</span> <span class="n">ccb</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span>

            <span class="c1"># clear checkable check box</span>
            <span class="n">ccb</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="n">ccb</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s2">&quot;All&quot;</span><span class="p">)</span>

            <span class="c1"># polarisation</span>
            <span class="n">pol</span> <span class="o">=</span> <span class="n">cb_pol</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">pol</span> <span class="o">==</span> <span class="s2">&quot;Long&quot;</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>

            <span class="c1"># loop through folder list to check which contained simulation files</span>
            <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dir_list</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="sa">fr</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">dirc</span><span class="si">}</span><span class="s2">\</span><span class="si">{</span><span class="n">d</span><span class="si">}</span><span class="s2">\Cavity_MROT_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">.pot&quot;</span><span class="p">):</span>
                    <span class="n">ccb</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>

            <span class="c1"># try to select copied selection</span>
            <span class="k">for</span> <span class="n">txt</span> <span class="ow">in</span> <span class="n">selection</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">txt</span> <span class="ow">in</span> <span class="n">dir_list</span><span class="p">:</span>
                    <span class="n">item</span> <span class="o">=</span> <span class="n">ccb</span><span class="o">.</span><span class="n">model</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">dir_list</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># +1 because &#39;all&#39; takes position 0</span>
                    <span class="n">item</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span></div>

    <span class="c1"># def open_file(self):</span>
    <span class="c1">#     filename, _ = QFileDialog.getOpenFileName(None, &quot;Open File&quot;, &quot;&quot;, &quot;Excel Files (*.xlsx)&quot;)</span>
    <span class="c1">#</span>
    <span class="c1">#     try:</span>
    <span class="c1">#         self.ui.le_Filename.setText(filename)</span>
    <span class="c1">#         df = pd.read_excel(filename)</span>
    <span class="c1">#</span>
    <span class="c1">#         # get header</span>
    <span class="c1">#         header = df.columns</span>
    <span class="c1">#</span>
    <span class="c1">#         # create combobox for x checkbox list for y</span>
    <span class="c1">#         cb_X_Axis = QComboBox()</span>
    <span class="c1">#         cb_Y_Axis = QCheckableComboBox()</span>
    <span class="c1">#         cb_Y_Axis_List = []</span>
    <span class="c1">#</span>
    <span class="c1">#         # populate x and y with checkboxes</span>
    <span class="c1">#         for col in header:</span>
    <span class="c1">#             cb_X_Axis.addItem(col)</span>
    <span class="c1">#             cb_Y_Axis.addItem(col)</span>
    <span class="c1">#</span>
    <span class="c1">#             cb = QCheckBox(col)</span>
    <span class="c1">#             cb_Y_Axis_List.append(cb)</span>
    <span class="c1">#</span>
    <span class="c1">#         # self.ui.vl_Y_Axis_Checkbox.addWidget(cb_Y_Axis)</span>
    <span class="c1">#         #</span>
    <span class="c1">#         # # add to layout</span>
    <span class="c1">#         # self.ui.vl_X_Axis_Combobox.addWidget(cb_X_Axis)</span>
    <span class="c1">#         # self.ui.vl_X_Axis_Combobox.addWidget(QSpacerItem(20, 40, QSizePolicy.Minimum, QSizePolicy.Expanding))</span>

        <span class="c1"># except Exception as e:</span>
        <span class="c1">#     self.log.error(f&#39;Failed to plot:: {e}&#39;)</span>

<div class="viewcode-block" id="PlotControl.set_table_size"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.set_table_size">[docs]</a>    <span class="k">def</span> <span class="nf">set_table_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">75</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span><span class="o">.</span><span class="n">setColumnWidth</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.validating"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.validating">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">validating</span><span class="p">(</span><span class="n">le</span><span class="p">):</span>
        <span class="n">validation_rule</span> <span class="o">=</span> <span class="n">QDoubleValidator</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3840</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">validation_rule</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">le</span><span class="o">.</span><span class="n">text</span><span class="p">(),</span> <span class="mi">20</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">QValidator</span><span class="o">.</span><span class="n">Acceptable</span><span class="p">:</span>
            <span class="n">le</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">le</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.show_hide_request_widgets"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.show_hide_request_widgets">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">show_hide_request_widgets</span><span class="p">(</span><span class="n">cb_code</span><span class="p">,</span> <span class="n">cb_request</span><span class="p">,</span> <span class="n">cb_X</span><span class="p">,</span> <span class="n">cb_Y</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">cb_code</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Other&#39;</span><span class="p">:</span>
            <span class="n">cb_request</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
            <span class="n">cb_X</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
            <span class="n">cb_Y</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cb_request</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
            <span class="n">cb_X</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
            <span class="n">cb_Y</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.populate_combobox_new"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.populate_combobox_new">[docs]</a>    <span class="k">def</span> <span class="nf">populate_combobox_new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cb_list</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">pid</span><span class="p">):</span>
        <span class="c1"># enable ID combobox</span>
        <span class="c1"># PTS.ccb_Id_Other, PTS.cb_X, PTS.ccb_Y, PTS.ccb_Filter_Other], PTS.le_Filename.text())</span>

        <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xlsx&#39;</span><span class="p">:</span>

            <span class="c1"># load file (for now, just excel files)</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">fr</span><span class="o">.</span><span class="n">excel_reader</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="n">sheet_name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

            <span class="c1"># populate combobox with sheet name</span>
            <span class="k">for</span> <span class="n">sh_name</span> <span class="ow">in</span> <span class="n">sheet_name</span><span class="p">:</span>
                <span class="n">cb_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">sh_name</span><span class="p">)</span>

            <span class="n">dd</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">sheet_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>

            <span class="k">for</span> <span class="n">cb</span> <span class="ow">in</span> <span class="n">cb_list</span><span class="p">:</span>
                <span class="c1"># clear combobox item if any</span>
                <span class="n">cb</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">dd</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">cb</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;txt&#39;</span><span class="p">:</span>
            <span class="c1"># load file txt</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">fr</span><span class="o">.</span><span class="n">txt_reader</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>

            <span class="k">for</span> <span class="n">cb</span> <span class="ow">in</span> <span class="n">cb_list</span><span class="p">:</span>
                <span class="c1"># clear combobox item if any</span>
                <span class="n">cb</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">cb</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;json&#39;</span><span class="p">:</span>
            <span class="c1"># load file txt</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">fr</span><span class="o">.</span><span class="n">json_reader</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pts_dict</span><span class="p">[</span><span class="n">pid</span><span class="p">][</span><span class="s2">&quot;plot data&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>

            <span class="k">for</span> <span class="n">cb</span> <span class="ow">in</span> <span class="n">cb_list</span><span class="p">:</span>
                <span class="c1"># clear combobox item if any</span>
                <span class="n">cb</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">cb</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.populate_combobox"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.populate_combobox">[docs]</a>    <span class="k">def</span> <span class="nf">populate_combobox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cb_list</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="c1"># enable ID combobox</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="s2">&quot;All&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;xlsx&#39;</span><span class="p">:</span>

            <span class="c1"># load file (for now, just excel files)</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">fr</span><span class="o">.</span><span class="n">excel_reader</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="n">sheet_name</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

            <span class="c1"># populate combobox with sheet name</span>
            <span class="k">for</span> <span class="n">sh_name</span> <span class="ow">in</span> <span class="n">sheet_name</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">plot_dict</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;plot inputs&quot;</span><span class="p">][</span><span class="s1">&#39;Id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">sh_name</span><span class="p">)</span>

            <span class="n">dd</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">sheet_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">other_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>

            <span class="k">for</span> <span class="n">cb</span> <span class="ow">in</span> <span class="n">cb_list</span><span class="p">:</span>
                <span class="c1"># clear combobox item if any</span>
                <span class="n">cb</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">dd</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">cb</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;txt&#39;</span><span class="p">:</span>
            <span class="c1"># load file txt</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">fr</span><span class="o">.</span><span class="n">txt_reader</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">other_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>

            <span class="k">for</span> <span class="n">cb</span> <span class="ow">in</span> <span class="n">cb_list</span><span class="p">:</span>
                <span class="c1"># clear combobox item if any</span>
                <span class="n">cb</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">cb</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">filename</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;json&#39;</span><span class="p">:</span>
            <span class="c1"># load file txt</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">fr</span><span class="o">.</span><span class="n">json_reader</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">other_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span>

            <span class="k">for</span> <span class="n">cb</span> <span class="ow">in</span> <span class="n">cb_list</span><span class="p">:</span>
                <span class="c1"># clear combobox item if any</span>
                <span class="n">cb</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">cb</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.populate_combobox_list"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.populate_combobox_list">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">populate_combobox_list</span><span class="p">(</span><span class="n">cb</span><span class="p">,</span> <span class="n">ll</span><span class="p">):</span>
        <span class="n">cb</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ll</span><span class="p">:</span>
            <span class="n">cb</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">a</span><span class="p">)</span></div>

<div class="viewcode-block" id="PlotControl.update_labels"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.update_labels">[docs]</a>    <span class="k">def</span> <span class="nf">update_labels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># select axes to update</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;update labesl&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Active_Axis</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Active_Axis</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;Left&#39;</span><span class="p">:</span>
            <span class="n">ax_current</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span>
            <span class="n">ax_other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ax_current</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax_right</span>
            <span class="n">ax_other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span>

        <span class="n">xlabel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Xlabel</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">ylabel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Ylabel</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Title</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">xsize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_XLabel_Size</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="n">ysize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_YLabel_Size</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="n">title_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_Title_Size</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="n">xtick_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_XLabel_Tick_Size</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="n">ytick_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_YLabel_Tick_Size</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="n">legend_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_Legend_Size</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>

        <span class="n">legend_labels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Legend</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%%</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># update plot</span>
        <span class="n">ax_current</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">xlabel</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">xsize</span><span class="p">)</span>
        <span class="n">ax_current</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">ysize</span><span class="p">)</span>
        <span class="n">ax_current</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">title_size</span><span class="p">)</span>
        <span class="n">ax_current</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="n">xtick_size</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">xtick_size</span><span class="p">)</span>
        <span class="n">ax_current</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="n">ytick_size</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">ytick_size</span><span class="p">)</span>

        <span class="c1"># update axes decoration dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes_decorations_dict</span><span class="p">[</span><span class="s2">&quot;xlabel&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">xlabel</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes_decorations_dict</span><span class="p">[</span><span class="s2">&quot;ylabel&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ylabel</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes_decorations_dict</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">title</span>

        <span class="c1"># update legend</span>
        <span class="n">lines</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax_current</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
        <span class="n">lines2</span><span class="p">,</span> <span class="n">labels2</span> <span class="o">=</span> <span class="n">ax_other</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
        <span class="c1"># handles, labels = ax_other.get_legend_handles_labels()</span>
        <span class="c1"># self.leg = self.ax.legend(lines + lines2, labels + labels2, loc=&#39;lower left&#39;, prop={&#39;size&#39;: 18})</span>

        <span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span> <span class="o">+</span> <span class="n">labels2</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">legend_labels</span><span class="p">)):</span>
                <span class="n">labels</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">legend_labels</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">legend_labels</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span> <span class="k">else</span> <span class="n">labels</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="n">legend_other</span> <span class="o">=</span> <span class="n">ax_other</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">legend_other</span><span class="p">:</span>
            <span class="c1"># remove old legend</span>
            <span class="n">legend_other</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">leg</span> <span class="o">=</span> <span class="n">ax_current</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">lines</span> <span class="o">+</span> <span class="n">lines2</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">legend_size</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">leg</span><span class="o">.</span><span class="n">set_zorder</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">leg</span><span class="o">.</span><span class="n">set_draggable</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">use_blit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw_idle</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.serialize"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.serialize">[docs]</a>    <span class="k">def</span> <span class="nf">serialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_dict</span><span class="p">):</span>
        <span class="c1"># update state file</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Inlet_Position&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Inset_Position</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Inset_Window&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Inset_Window</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Show_Hide_Inset&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Show_Hide_Inset</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Y_Scale&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Y_Scale</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Show_Wakefield_Parameters&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Show_Wakefield_Parameters</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span>

        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Plot_Text</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Peaks Threshold&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">dsb_Threshold</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>

        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;E0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_E0</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Nu_S&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Nu_S</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;I0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_I0</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Alpha_S&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Alpha_S</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Tau_Z&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Tau_Z</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Tau_XY&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Tau_XY</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;F_Rev&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_F_Rev</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Beta_XY&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Beta_XY</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;N_Cav&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_N_Cav</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Longitudinal Threshold Checkbox&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Longitudinal_Threshold</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Transverse Threshold Checkbox&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Transverse_Threshold</span><span class="o">.</span><span class="n">checkState</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Threshold Line Color&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Threshold_Line_Color</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Threshold Linestyle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Threshold_Linestyle</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>

        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;xlabel&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Xlabel</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;ylabel&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Ylabel</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Title</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;xlabel_size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_XLabel_Size</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;ylabel_size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_YLabel_Size</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;title_size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_Title_Size</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;xlabeltick_size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_XLabel_Tick_Size</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;ylabeltick_size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_YLabel_Tick_Size</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;legend_size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_Legend_Size</span><span class="o">.</span><span class="n">value</span><span class="p">()</span></div>

<div class="viewcode-block" id="PlotControl.deserialize"><a class="viewcode-back" href="../../frame_controls.html#frame_controls.plot_control.PlotControl.deserialize">[docs]</a>    <span class="k">def</span> <span class="nf">deserialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_dict</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Inset_Position</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Inlet_Position&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Inset_Window</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Inset_Window&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Show_Hide_Inset</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Show_Hide_Inset&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Y_Scale</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Y_Scale&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Show_Wakefield_Parameters</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Show_Wakefield_Parameters&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Plot_Text</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Text&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">dsb_Threshold</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Peaks Threshold&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_E0</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;E0&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Nu_S</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Nu_S&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_I0</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;I0&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Alpha_S</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Alpha_S&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Tau_Z</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Tau_Z&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Tau_XY</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Tau_XY&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_F_Rev</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;F_Rev&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Beta_XY</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Beta_XY&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_N_Cav</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;N_Cav&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Longitudinal_Threshold</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Longitudinal Threshold Checkbox&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Transverse_Threshold</span><span class="o">.</span><span class="n">setCheckState</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Transverse Threshold Checkbox&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Threshold_Line_Color</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Threshold Line Color&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">cb_Threshold_Linestyle</span><span class="o">.</span><span class="n">setCurrentText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;Threshold Linestyle&quot;</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Xlabel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;xlabel&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Ylabel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;ylabel&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">le_Title</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_XLabel_Size</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;xlabel_size&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_YLabel_Size</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;ylabel_size&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_Title_Size</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;title_size&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_XLabel_Tick_Size</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;xlabeltick_size&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_YLabel_Tick_Size</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;ylabeltick_size&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">sb_Legend_Size</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">state_dict</span><span class="p">[</span><span class="s2">&quot;legend_size&quot;</span><span class="p">])</span></div></div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Sosoho-abasi Udongwo.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>